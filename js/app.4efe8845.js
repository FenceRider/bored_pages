(function(){"use strict";var t={8006:function(t,e,s){s.d(e,{X8:function(){return qi}});var a=s(9242),i=s(3396),o=s(7139);const l={class:"navbar is-info",role:"navigation","aria-label":"main_navigation"},n={class:"navbar-brand"},r=(0,i._)("i",{class:"fas fa-crosshairs"},null,-1),c=(0,i._)("strong",null,"Â Home",-1),d=(0,i._)("span",{"aria-hidden":"true"},null,-1),u=(0,i._)("span",{"aria-hidden":"true"},null,-1),p=(0,i._)("span",{"aria-hidden":"true"},null,-1),h=[d,u,p],m={class:"navbar-start"},_=(0,i._)("strong",null,"Board Browser",-1),g={key:0,class:"navbar-end"},f={class:"navbar-item"},v={class:"has-text-light"},b={class:"navbar-item"},w=(0,i._)("strong",{class:"has-text-light"},"Logout",-1),y=[w],k={key:1,class:"navbar-end"},x=(0,i._)("strong",null,"Login",-1);function D(t,e,s,a,d,u){const p=(0,i.up)("router-link"),w=(0,i.up)("router-view");return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i._)("nav",l,[(0,i._)("div",n,[(0,i.Wm)(p,{to:"/",class:"navbar-item has-text-light"},{default:(0,i.w5)((()=>[r,c])),_:1}),(0,i._)("a",{role:"button",onClick:e[0]||(e[0]=e=>t.expanded=!t.expanded),class:(0,o.C_)("has-background-info navbar-burger has-text-light "+(t.expanded?"is-active":"")),"aria-label":"menu","aria-expanded":"false","data-target":"main_navbar"},h,2)]),(0,i._)("div",{id:"main_navbar",class:(0,o.C_)("navbar-menu primary-color has-background-info "+(t.expanded?"is-active":""))},[(0,i._)("div",m,[(0,i.Wm)(p,{to:"/boards",class:"navbar-item has-text-light",style:{background:"#3e8ed0 !important"}},{default:(0,i.w5)((()=>[_])),_:1})]),t.$store.state.user?((0,i.wg)(),(0,i.iD)("div",g,[(0,i._)("div",f,[(0,i._)("strong",v,"Hello, "+(0,o.zw)(t.$store.state.user.username),1)]),(0,i._)("div",b,[(0,i._)("div",{class:"is-clickable",onClick:e[1]||(e[1]=e=>t.logout())},y)])])):((0,i.wg)(),(0,i.iD)("div",k,[(0,i.Wm)(p,{to:"/login",class:"navbar-item has-text-light",style:{background:"#3e8ed0 !important"}},{default:(0,i.w5)((()=>[x])),_:1})]))],2)]),(0,i.Wm)(w)],64)}var C=s(2482),Z=s(6520),P=function(t,e,s,a){var i,o=arguments.length,l=o<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,s):a;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)l=Reflect.decorate(t,e,s,a);else for(var n=t.length-1;n>=0;n--)(i=t[n])&&(l=(o<3?i(l):o>3?i(e,s,l):i(e,s))||l);return o>3&&l&&Object.defineProperty(e,s,l),l};let S=class extends Z.w3{constructor(...t){super(...t),(0,C.Z)(this,"expanded",!1)}mounted(){this.$store.dispatch("getUser")}async logout(){await this.$store.dispatch("logout"),this.$router.push("/login")}};S=P([(0,Z.Ei)({components:{},computed:{pageScroll(){return this.$store.state.pageScroll}},watch:{pageScroll(t,e){t?document.getElementsByTagName("HTML")[0].setAttribute("style","overflow-y: overflow;"):document.getElementsByTagName("HTML")[0].setAttribute("style","overflow-y: hidden;")}}})],S);var U=S,O=s(89);const M=(0,O.Z)(U,[["render",D]]);var E=M,j=s(678);const T={class:"section"},z={class:"container"},R=(0,i._)("div",{class:"title"},"Welcome to Board Of Things",-1),$={class:"columns"},L={class:"column"},H={class:"column"},q={class:"section"},B={class:"container"},I=(0,i._)("div",{class:"title"},"Explore",-1),N=(0,i._)("p",null,"Check out what boards are available by going to the Board Browser, or create your own and share it with others.",-1),A=(0,i._)("br",null,null,-1),W=(0,i.Uk)(" Board Browser "),V=(0,i._)("i",{class:"ml-3 fas fa-caret-square-right"},null,-1),Y=[W,V];function F(t,e,s,a,o,l){const n=(0,i.up)("PostComponent");return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i._)("section",T,[(0,i._)("div",z,[R,(0,i._)("div",$,[(0,i._)("div",L,[(0,i.Wm)(n,{static_post:t.post1},null,8,["static_post"])]),(0,i._)("div",H,[(0,i.Wm)(n,{static_post:t.post2},null,8,["static_post"])])])])]),(0,i._)("section",q,[(0,i._)("div",B,[I,N,A,(0,i._)("div",{class:"button",onClick:e[0]||(e[0]=(...e)=>t.goto_boardBrowser&&t.goto_boardBrowser(...e))},Y)])])],64)}const K={class:"modal-content my-modal box"},J={class:"highlight pt-5"},X={class:"post_content"},G={class:"title pt-1 mb-2 has-text-white"},Q={class:"p-1 mb-2 has-text-white"},tt={class:"is-size-7 pt-1 px-1 has-text-white"},et={class:"is-clickable"},st={class:"columns is-mobile controls m-0"},at={class:"column"},it={class:"column"},ot={class:"column"};function lt(t,e){const s=(0,i.up)("ExpandedPost"),a=(0,i.up)("LockIndicator");return(0,i.wg)(),(0,i.iD)(i.HY,null,[t.expanded?((0,i.wg)(),(0,i.iD)("div",{key:0,class:(0,o.C_)(["modal",{"is-active":t.expanded}])},[(0,i._)("div",{onClick:e[0]||(e[0]=(...e)=>t.collapse&&t.collapse(...e)),class:"modal-background"}),(0,i._)("div",K,[(0,i.Wm)(s,{slot:t.slot,static_post:t.static_post,openTo:t.modalSelection},null,8,["slot","static_post","openTo"])]),(0,i._)("button",{onClick:e[1]||(e[1]=(...e)=>t.collapse&&t.collapse(...e)),class:"modal-close is-large","aria-label":"close"})],2)):(0,i.kq)("",!0),(0,i._)("div",{class:"m-1",onClick:e[5]||(e[5]=e=>t.expand("comment"))},[(0,i._)("div",{class:"box pt-0 p-0",style:(0,o.j5)(" overflow:hidden; position:relative; background:url("+t.post.media+"); background-size:cover; background-repeat:no-repeat; background-position: center center; ")},["locked"==t.post_status?((0,i.wg)(),(0,i.j4)(a,{key:0,exp:t.lock_expiration,style:{position:"absolute",top:"10px",right:"10px"}},null,8,["exp"])):(0,i.kq)("",!0),(0,i._)("div",J,[(0,i._)("div",X,[(0,i._)("div",G,(0,o.zw)(t.post.title),1),(0,i._)("div",Q,(0,o.zw)(t.post.content),1)]),(0,i._)("div",tt,[(0,i._)("b",et,(0,o.zw)(t.post.authorusername),1),(0,i.Uk)(" - "+(0,o.zw)(t.postTime),1)])]),(0,i._)("div",st,[(0,i._)("div",at,[(0,i._)("i",{onClick:e[2]||(e[2]=e=>t.expand("like")),class:"is-clickable far fa-heart"})]),(0,i._)("div",it,[(0,i._)("i",{onClick:e[3]||(e[3]=e=>t.expand("comment")),class:"is-clickable far fa-comments"})]),(0,i._)("div",ot,[(0,i._)("i",{onClick:e[4]||(e[4]=e=>t.expand("edit")),class:"is-clickable fas fa-pen"})])])],4)])],64)}var nt=s(4710);const rt=t=>((0,i.dD)("data-v-7432c3be"),t=t(),(0,i.Cn)(),t),ct={class:"columns modal-columns p-0 m-0"},dt={class:"column is-8 v-center",style:{position:"relative"}},ut={key:1,class:"tag is-warning float_preview_indicator"},pt=["src"],ht=["src"],mt={class:"floatControls"},_t=rt((()=>(0,i._)("a",null,[(0,i._)("span",{class:"icon is-small floatControlsColor"},[(0,i._)("i",{class:"is-clickable far fa-heart"})])],-1))),gt={key:0},ft=rt((()=>(0,i._)("span",{class:"icon is-small floatControlsColor"},[(0,i._)("i",{class:"fas fa-lock-open"})],-1))),vt=[ft],bt={key:1},wt=rt((()=>(0,i._)("span",{class:"icon is-small floatControlsColor"},[(0,i._)("i",{class:"fas fa-lock"})],-1))),yt=[wt],kt={class:"m-3",style:{}},xt={key:0},Dt={class:"message is-danger"},Ct={class:"message-header"},Zt=rt((()=>(0,i._)("p",null,"Error",-1))),Pt={class:"message-body"},St={key:1},Ut={style:{"max-height":"250px",overflow:"scroll","scrollbar-width":"none"}},Ot={class:"title pt-1 mb-2"},Mt={class:"p-1 mb-2"},Et={class:"is-size-7 pt-1 px-1"},jt={class:"is-clickable"},Tt={key:2},zt={key:0},Rt={class:"field"},$t=rt((()=>(0,i._)("label",{class:"label"},"Title",-1))),Lt={class:"control"},Ht={class:"field"},qt=rt((()=>(0,i._)("label",{class:"label"},"Content",-1))),Bt={class:"control"},It=["placeholder"],Nt=rt((()=>(0,i._)("label",{class:"label"},"Media",-1))),At={class:"field"},Wt={class:"control file has-name"},Vt={class:"file-label"},Yt={key:1,class:"file-cta",style:{"border-right":"none"}},Ft=rt((()=>(0,i._)("span",{class:"file-icon"},[(0,i._)("i",{class:"fas fa-upload"})],-1))),Kt=[Ft],Jt=rt((()=>(0,i._)("span",{class:"file-icon"},[(0,i._)("i",{class:"fas fa-trash"})],-1))),Xt=[Jt],Gt=rt((()=>(0,i._)("br",null,null,-1))),Qt={class:"level"},te=rt((()=>(0,i._)("div",{class:"level-left",style:{"flex-shrink":"1"}},[(0,i._)("div",{class:"level-item",style:{"flex-shrink":"1"}},[(0,i._)("span",{class:""},"Lock for 6 hours")])],-1))),ee={class:"level-right",style:{"flex-shrink":"1"}},se={class:"level-item",style:{"flex-shrink":"1"}},ae=rt((()=>(0,i._)("span",{class:"ml-1 icon"},[(0,i._)("i",{class:"fas fa-lock"})],-1))),ie=["disabled"],oe=(0,i.Uk)("Post "),le=rt((()=>(0,i._)("span",{class:"ml-1 icon"},[(0,i._)("i",{class:"fas fa-paper-plane"})],-1))),ne=[oe,le],re=rt((()=>(0,i._)("div",{class:"is-pulled-left",style:{height:"100%"}},null,-1))),ce=rt((()=>(0,i._)("div",{class:"is-pulled-right"},null,-1))),de={key:1},ue={class:"level is-mobile"},pe={class:"level-left"},he={class:"level-item"},me=rt((()=>(0,i._)("i",{class:"fas fa-arrow-left"},null,-1))),_e=[me],ge={class:"level-right"},fe={class:"level-item"},ve={class:"tag is-success is-light is-size-5"},be={class:"tabs is-fullwidth my-3 pt-1 pb-3"},we={style:{border:"none"}},ye=rt((()=>(0,i._)("a",null,[(0,i._)("span",{class:"icon is-small"},[(0,i._)("i",{class:"is-clickable far fa-heart"})])],-1))),ke=[ye],xe=rt((()=>(0,i._)("a",null,[(0,i._)("span",{class:"icon is-small"},[(0,i._)("i",{class:"is-clickable far fa-comments"})])],-1))),De=[xe],Ce=rt((()=>(0,i._)("a",null,[(0,i._)("span",{class:"icon is-small"},[(0,i._)("i",{class:"is-clickable fas fa-pen"})])],-1))),Ze=[Ce],Pe={key:0,class:""},Se={key:1,class:""},Ue={key:2,class:"",style:{}},Oe={class:"box mb-1 mx-2"},Me={class:"columns"},Ee={class:"column is-8"},je={class:"title is-6 pt-1 mb-0"},Te={class:"is-size-7 pt-1 px-1"},ze={class:"is-clickable"},Re={class:"p-1 mb-2"},$e={class:"column is-4"},Le=["src"];function He(t,e){const s=(0,i.up)("LockIndicator"),l=(0,i.up)("StripePayment"),n=(0,i.up)("CommentSection");return(0,i.wg)(),(0,i.iD)("div",ct,[(0,i._)("div",dt,["locked"==t.post_status?((0,i.wg)(),(0,i.j4)(s,{key:0,exp:t.lock_expiration,force_expanded:!0},null,8,["exp"])):(0,i.kq)("",!0),t.blobUrl?((0,i.wg)(),(0,i.iD)("span",ut,"PREVIEW")):(0,i.kq)("",!0),t.blobUrl?((0,i.wg)(),(0,i.iD)("img",{key:2,src:t.blobUrl,class:"postMedia",style:{"max-width":"100%","max-height":"100%",height:"auto","margin-left":"auto","margin-right":"auto"}},null,8,pt)):((0,i.wg)(),(0,i.iD)("img",{key:3,src:t.post.media,class:"postMedia",style:{"max-width":"100%","max-height":"100%",height:"auto","margin-left":"auto","margin-right":"auto"}},null,8,ht)),(0,i._)("div",mt,[_t,"unlocked"==t.post_status?((0,i.wg)(),(0,i.iD)("a",gt,vt)):((0,i.wg)(),(0,i.iD)("a",bt,yt))])]),(0,i._)("div",{class:(0,o.C_)("column is-4 modal-right p-0  "+(t.isMobile?"":"post_history"))},[(0,i._)("div",kt,[t.postError?((0,i.wg)(),(0,i.iD)("div",xt,[(0,i._)("article",Dt,[(0,i._)("div",Ct,[Zt,(0,i._)("button",{onClick:e[0]||(e[0]=e=>t.postError=""),class:"delete","aria-label":"delete"})]),(0,i._)("div",Pt,(0,o.zw)(t.postError),1)])])):(0,i.kq)("",!0),"edit"!=t.modalSelection?((0,i.wg)(),(0,i.iD)("div",St,[(0,i._)("div",Ut,[(0,i._)("div",Ot,(0,o.zw)(t.post.title),1),(0,i._)("div",Mt,(0,o.zw)(t.post.content),1)]),(0,i._)("div",Et,[(0,i._)("b",jt,(0,o.zw)(t.post.authorusername),1),(0,i.Uk)(" - "+(0,o.zw)(t.postTime),1)])])):(0,i.kq)("",!0),"edit"==t.modalSelection?((0,i.wg)(),(0,i.iD)("div",Tt,[t.showPayment?((0,i.wg)(),(0,i.iD)("div",de,[(0,i._)("div",ue,[(0,i._)("div",pe,[(0,i._)("div",he,[(0,i._)("div",{onClick:e[9]||(e[9]=e=>t.cancelPayment()),class:"button"},_e)])]),(0,i._)("div",ge,[(0,i._)("div",fe,[(0,i._)("span",ve,"6 hours - "+(0,o.zw)(t.lock_cost),1)])])]),(0,i.Wm)(l,{onMount:t.stripeMount,blobHash:t.blobHash,post:t.updated_post},null,8,["onMount","blobHash","post"])])):((0,i.wg)(),(0,i.iD)("div",zt,[(0,i._)("fieldset",null,[(0,i._)("div",Rt,[$t,(0,i._)("div",Lt,[(0,i.wy)((0,i._)("input",{class:"input is-disabled",type:"text",placeholder:"Title","onUpdate:modelValue":e[1]||(e[1]=e=>t.editing_title=e)},null,512),[[a.nr,t.editing_title]])])]),(0,i._)("div",Ht,[qt,(0,i._)("div",Bt,[(0,i.wy)((0,i._)("textarea",{class:"textarea",placeholder:"Content...","onUpdate:modelValue":e[2]||(e[2]=e=>t.editing_content=e)},null,8,It),[[a.nr,t.editing_content]])])]),Nt,(0,i._)("div",At,[(0,i._)("div",Wt,[(0,i._)("label",Vt,[t.blobUrl?(0,i.kq)("",!0):((0,i.wg)(),(0,i.iD)("input",{key:0,onChange:e[3]||(e[3]=(...e)=>t.previewFiles&&t.previewFiles(...e)),class:"file-input",type:"file",name:"resume",accept:"image/*"},null,32)),t.blobUrl?((0,i.wg)(),(0,i.iD)("span",{key:2,onClick:e[4]||(e[4]=(...e)=>t.clear_blob&&t.clear_blob(...e)),class:"file-cta",style:{"border-right":"none"}},Xt)):((0,i.wg)(),(0,i.iD)("span",Yt,Kt))]),t.blobUrl?(0,i.wy)(((0,i.wg)(),(0,i.iD)("input",{key:0,class:"has-text-left input",style:{"border-left":"none"},"onUpdate:modelValue":e[5]||(e[5]=e=>t.mediaEditingUrl=e),placeholder:"",disabled:""},null,512)),[[a.nr,t.mediaEditingUrl]]):(0,i.wy)(((0,i.wg)(),(0,i.iD)("input",{key:1,class:"has-text-left input",style:{"border-left":"none"},"onUpdate:modelValue":e[6]||(e[6]=e=>t.editing_media=e),placeholder:"upload a file, or paste a link"},null,512)),[[a.nr,t.editing_media]])])]),Gt,(0,i._)("div",Qt,[te,(0,i._)("div",ee,[(0,i._)("div",se,[(0,i._)("button",{onClick:e[7]||(e[7]=(...e)=>t.lock_post&&t.lock_post(...e)),class:"m-1 button is-warning"},[(0,i.Uk)((0,o.zw)(t.lock_cost)+" ",1),ae]),(0,i._)("button",{disabled:"locked"==t.post_status,onClick:e[8]||(e[8]=(...e)=>t.save_edit&&t.save_edit(...e)),class:"m-1 button is-success"},ne,8,ie)])])]),re,ce])]))])):(0,i.kq)("",!0)]),(0,i._)("div",be,[(0,i._)("ul",we,[(0,i._)("li",{onClick:e[10]||(e[10]=(...e)=>t.click_likes&&t.click_likes(...e)),class:(0,o.C_)({"is-active":"like"==t.modalSelection})},ke,2),(0,i._)("li",{onClick:e[11]||(e[11]=(...e)=>t.click_comments&&t.click_comments(...e)),class:(0,o.C_)({"is-active":"comment"==t.modalSelection})},De,2),(0,i._)("li",{onClick:e[12]||(e[12]=(...e)=>t.click_edit&&t.click_edit(...e)),class:(0,o.C_)({"is-active":"edit"==t.modalSelection})},Ze,2)])]),"like"==t.modalSelection?((0,i.wg)(),(0,i.iD)("div",Pe," likes... coming soon ")):(0,i.kq)("",!0),"comment"==t.modalSelection?((0,i.wg)(),(0,i.iD)("div",Se,[(0,i.Wm)(n,{slot:t.slot},null,8,["slot"])])):(0,i.kq)("",!0),"edit"==t.modalSelection?((0,i.wg)(),(0,i.iD)("div",Ue,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(t.post_history,((e,s)=>((0,i.wg)(),(0,i.iD)("div",null,[(0,i._)("div",Oe,[(0,i._)("div",Me,[(0,i._)("div",Ee,[(0,i._)("div",je,(0,o.zw)(e.title),1),(0,i._)("div",Te,[(0,i._)("b",ze,(0,o.zw)(e.authorusername),1),(0,i.Uk)(" - "+(0,o.zw)(t.ago(e.post_time))+" ",1),(0,i._)("div",Re,(0,o.zw)(e.content),1)])]),(0,i._)("div",$e,[(0,i._)("img",{alt:"media",src:e.media,style:{width:"auto",height:"70px"}},null,8,Le)])])])])))),256))])):(0,i.kq)("",!0)],2)])}s(8675),s(3462);var qe=s(6265),Be=s.n(qe);const Ie={key:0,id:"payment-form"},Ne=(0,i._)("div",{id:"payment-element"},null,-1),Ae=(0,i._)("div",{class:"spinner hidden",id:"spinner"},null,-1),We=(0,i._)("span",{id:"button-text"},"Pay now",-1),Ve=[Ae,We],Ye={key:0},Fe={key:1},Ke={class:"message is-danger"},Je=(0,i._)("div",{class:"message-header"},[(0,i._)("p",null,"Error")],-1),Xe={class:"message-body"};function Ge(t,e){return t.postError?((0,i.wg)(),(0,i.iD)("div",Fe,[(0,i._)("article",Ke,[Je,(0,i._)("div",Xe,(0,o.zw)(t.postError),1)])])):((0,i.wg)(),(0,i.iD)("form",Ie,[Ne,(0,i._)("div",{class:"button mt-3",onClick:e[0]||(e[0]=(...e)=>t.pay&&t.pay(...e))},Ve),""!=t.message?((0,i.wg)(),(0,i.iD)("div",Ye,(0,o.zw)(t.message),1)):(0,i.kq)("",!0)]))}var Qe=function(t,e,s,a){var i,o=arguments.length,l=o<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,s):a;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)l=Reflect.decorate(t,e,s,a);else for(var n=t.length-1;n>=0;n--)(i=t[n])&&(l=(o<3?i(l):o>3?i(e,s,l):i(e,s))||l);return o>3&&l&&Object.defineProperty(e,s,l),l};let ts=class extends Z.w3{constructor(...t){super(...t),(0,C.Z)(this,"post",void 0),(0,C.Z)(this,"blobHash",void 0),(0,C.Z)(this,"stripe",void 0),(0,C.Z)(this,"elements",void 0),(0,C.Z)(this,"isLoading",!1),(0,C.Z)(this,"message",""),(0,C.Z)(this,"postError","")}async mounted(){this.stripe=window.Stripe(this.$store.state.stripe_api_key);let t=await Be().post("/payment/purchase/post",{post:this.post,hash:this.blobHash});if(this.$.emit("mount",{uploadUrl:t.data.uploadUrl,fields:t.data.fields}),t.status>=400||t.status<200)return t.data,void(this.postError=t.data);let e=t.data.clientSecret;this.elements=this.stripe.elements({appearance:{theme:"stripe"},clientSecret:e}),this.elements.create("payment").mount("#payment-element")}async pay(){this.isLoading=!0;const{error:t}=await this.stripe.confirmPayment({elements:this.elements,confirmParams:{return_url:window.location.href}});"card_error"===t.type||"validation_error"===t.type?this.showMessage(t.message):this.showMessage("An unexpected error occured."),this.isLoading=!1}showMessage(t){this.message=t;let e=this;setTimeout((function(){e.message=""}),4e3)}async checkStatus(){const t=new URLSearchParams(window.location.search).get("payment_intent_client_secret");if(!t)return;const{paymentIntent:e}=await this.stripe.retrievePaymentIntent(t);switch(e.status){case"succeeded":this.showMessage("Payment succeeded!");break;case"processing":this.showMessage("Your payment is processing.");break;case"requires_payment_method":this.showMessage("Your payment was not successful, please try again.");break;default:this.showMessage("Something went wrong.");break}}};ts=Qe([(0,Z.Ei)({props:{post:{},blobHash:String}})],ts);var es=ts;const ss=(0,O.Z)(es,[["render",Ge]]);var as=ss;const is=(0,i._)("i",{class:"fas fa-lock"},null,-1),os={key:0,class:"ml-1"};function ls(t,e,s,a,l,n){return(0,i.wg)(),(0,i.iD)("span",{class:"float_lock_indicator tag is-warning",onMouseover:e[0]||(e[0]=e=>t.mouse_over=!0),onMouseleave:e[1]||(e[1]=e=>t.mouse_over=!1)},[is,t.hover?((0,i.wg)(),(0,i.iD)("span",os,(0,o.zw)(t.timeLeft),1)):(0,i.kq)("",!0)],32)}var ns=function(t,e,s,a){var i,o=arguments.length,l=o<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,s):a;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)l=Reflect.decorate(t,e,s,a);else for(var n=t.length-1;n>=0;n--)(i=t[n])&&(l=(o<3?i(l):o>3?i(e,s,l):i(e,s))||l);return o>3&&l&&Object.defineProperty(e,s,l),l};let rs=class extends Z.w3{constructor(...t){super(...t),(0,C.Z)(this,"exp",void 0),(0,C.Z)(this,"force_expanded",void 0),(0,C.Z)(this,"timeLeft",""),(0,C.Z)(this,"mouse_over",!1),(0,C.Z)(this,"interval",null)}mounted(){null==this.force_expanded&&(this.force_expanded=!1),this.interval=setInterval((()=>{let t=(this.exp.getTime()-(new Date).getTime())/1e3,e=Math.trunc(t/60/60);t-=60*e*60;let s=Math.trunc(t/60);t-=60*s,t=Math.trunc(t),this.timeLeft=`${e}h ${s}m ${t}s`}),1e3)}unmounted(){clearInterval(this.interval)}get hover(){return this.force_expanded||this.mouse_over}};rs=ns([(0,Z.Ei)({components:{},props:{exp:Date,force_expanded:Boolean}})],rs);var cs=rs;const ds=(0,O.Z)(cs,[["render",ls]]);var us=ds,ps=s(8904),hs=s.n(ps);const ms=t=>((0,i.dD)("data-v-231e5b82"),t=t(),(0,i.Cn)(),t),_s={class:"media m-2"},gs=ms((()=>(0,i._)("figure",{class:"media-left"},[(0,i._)("p",{class:"image is-48x48"},[(0,i._)("img",{class:"",src:"/img/Chest.png"})])],-1))),fs={class:"media-content"},vs={class:"field"},bs={class:"control"},ws={class:""},ys={class:"media m-2"},ks=ms((()=>(0,i._)("figure",{class:"media-left"},[(0,i._)("p",{class:"image is-48x48"},[(0,i._)("img",{class:"",src:"/img/Chest.png"})])],-1))),xs={class:"media-content has-text-left"},Ds={class:"content"},Cs=(0,i.Uk)(),Zs=ms((()=>(0,i._)("br",null,null,-1))),Ps=ms((()=>(0,i._)("nav",{class:"level is-mobile"},null,-1))),Ss={key:0},Us=(0,i.Uk)("No comments yet! "),Os=ms((()=>(0,i._)("br",null,null,-1))),Ms=(0,i.Uk)(" Why don't you say something?"),Es=[Us,Os,Ms];function js(t,e){return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i._)("article",_s,[gs,(0,i._)("div",fs,[(0,i._)("div",vs,[(0,i._)("p",bs,[(0,i.wy)((0,i._)("textarea",{"onUpdate:modelValue":e[0]||(e[0]=e=>t.content=e),class:"textarea",placeholder:"Add a comment..."},null,512),[[a.nr,t.content]])])]),(0,i._)("a",{onClick:e[1]||(e[1]=(...e)=>t.submit&&t.submit(...e)),class:"button is-info is-pulled-right"},"Submit")])]),(0,i._)("div",ws,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(t.comments,((e,s)=>((0,i.wg)(),(0,i.iD)("div",null,[(0,i._)("article",ys,[ks,(0,i._)("div",xs,[(0,i._)("div",Ds,[(0,i._)("p",null,[(0,i._)("strong",null,(0,o.zw)(e.username),1),Cs,(0,i._)("small",null,(0,o.zw)(t.ago(e.comment_time)),1),Zs,(0,i.Uk)(" "+(0,o.zw)(e.content),1)])]),Ps])])])))),256))]),0==t.comments.length?((0,i.wg)(),(0,i.iD)("div",Ss,Es)):(0,i.kq)("",!0),t.comments.length>19?((0,i.wg)(),(0,i.iD)("div",{key:1,class:"button mb-3",onClick:e[2]||(e[2]=(...e)=>t.loadMore&&t.loadMore(...e))},"Load More")):(0,i.kq)("",!0)],64)}var Ts=function(t,e,s,a){var i,o=arguments.length,l=o<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,s):a;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)l=Reflect.decorate(t,e,s,a);else for(var n=t.length-1;n>=0;n--)(i=t[n])&&(l=(o<3?i(l):o>3?i(e,s,l):i(e,s))||l);return o>3&&l&&Object.defineProperty(e,s,l),l};let zs=class extends Z.w3{constructor(...t){super(...t),(0,C.Z)(this,"slot",void 0),(0,C.Z)(this,"content",""),(0,C.Z)(this,"comments",[])}ago(t){return new nt.Z("en-US").format(new Date(t+""),"mini")}get post(){return this.$store.state.page?this.$store.state.page?.posts[this.slot]:{}}async mounted(){this.getComments()}async getComments(){let t=await Be().get(`/board/guest/comment/${this.post.id}/-1/20`);200==t.status&&(this.comments=t.data)}async loadMore(){console.log(this.comments[this.comments.length-1].id);let t=this.comments[this.comments.length-1].id,e=await Be().get(`/board/guest/comment/${this.post.id}/${t}/20`);for(let s of e.data)this.comments.push(s)}async submit(){await Be().post(`/board/comment/${this.post.id}`,{content:this.content});this.content="",await this.getComments()}};zs=Ts([(0,Z.Ei)({props:{slot:Number}})],zs);var Rs=zs;const $s=(0,O.Z)(Rs,[["render",js],["__scopeId","data-v-231e5b82"]]);var Ls=$s,Hs=function(t,e,s,a){var i,o=arguments.length,l=o<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,s):a;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)l=Reflect.decorate(t,e,s,a);else for(var n=t.length-1;n>=0;n--)(i=t[n])&&(l=(o<3?i(l):o>3?i(e,s,l):i(e,s))||l);return o>3&&l&&Object.defineProperty(e,s,l),l};let qs=class extends Z.w3{constructor(...t){super(...t),(0,C.Z)(this,"slot",void 0),(0,C.Z)(this,"openTo",void 0),(0,C.Z)(this,"editing",!1),(0,C.Z)(this,"editing_content",""),(0,C.Z)(this,"editing_title",""),(0,C.Z)(this,"editing_media",""),(0,C.Z)(this,"blobUrl",""),(0,C.Z)(this,"blobHash",""),(0,C.Z)(this,"expanded",!1),(0,C.Z)(this,"post_history",[]),(0,C.Z)(this,"modalSelection","edit"),(0,C.Z)(this,"showPayment",!1),(0,C.Z)(this,"postError",""),(0,C.Z)(this,"static_post",void 0),(0,C.Z)(this,"uploadId","a"+Math.floor(1e18*Math.random())),(0,C.Z)(this,"isMobile",!1)}resize(){this.isMobile=this.calcIsMobile()}calcIsMobile(){return document.body.clientWidth<=760}get post(){return this.static_post?this.static_post:this.$store.state.page?this.$store.state.page?.posts[this.slot]:{}}get mediaEditingUrl(){return this.editing_media.startsWith("u-")?this.editing_media.slice(2):this.editing_media}get post_status(){let t=0;return this.post.lock_expiration_time&&(t=new Date(this.post.lock_expiration_time+"").getTime()),t>(new Date).getTime()?"locked":"unlocked"}get updated_post(){let t=JSON.parse(JSON.stringify(this.post));return t.title=this.editing_title,t.media=this.editing_media,t.content=this.editing_content,t}get postTime(){return this.ago(this.post.post_time)}get lock_expiration(){return new Date(this.post.lock_expiration_time+"")}get lock_cost(){var t=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"});return t.format(this.post.unlock_price/100)}mounted(){switch(this.openTo){case"edit":this.click_edit();break;case"comment":this.click_comments();break;case"like":this.click_likes();break;default:this.click_comments();break}window.addEventListener("resize",this.resize)}unmounted(){window.removeEventListener("resize",this.resize)}clear_blob(t){this.blobUrl="",this.editing_media="",t&&t.preventDefault()}clear_edit(){this.clear_blob(),this.editing_content="",this.editing_media="",this.editing_title=""}async stripeMount({uploadUrl:t,fields:e}){let s=await fetch(this.blobUrl).then((t=>t.blob()));if(t&&e){let i=new FormData;for(let t in e)i.append(t,e[t]);i.append("Content-Type",s.type),i.append("file",s);try{let e=await fetch(t,{method:"POST",body:i});console.log(await e.text())}catch(a){console.log(a)}}}async previewFiles(t){let e=t.target.files[0];if(e.size>1e6)return void(this.postError="Max Image Size: 1MB");this.blobUrl=URL.createObjectURL(e),this.editing_media="u-"+e.name;let s=await fetch(this.blobUrl).then((t=>t.blob())),a=[...new Uint8Array(await s.arrayBuffer())],i=hs()(a);this.blobHash=i}ago(t){return new nt.Z("en-US").format(new Date(t+""),"mini")}cancelPayment(){this.showPayment=!1}begin_edit(){this.editing=!0,this.editing_title=this.post.title,this.editing_content=this.post.content}async save_edit(){if(this.static_post)return;let t=JSON.parse(JSON.stringify(this.post));t.title=this.editing_title,t.media=this.editing_media,t.content=this.editing_content;let e=await fetch(this.blobUrl).then((t=>t.blob()));if(e.size>1e6)return void(this.postError="Max Image Size: 1MB");let s=await this.$store.dispatch("updatePost",{post:t,mediaUrl:this.blobUrl});s.status>=400||s.status<200?(s.data,this.postError=s.data):this.clear_edit(),this.editing=!1,this.postError="",await this.getPostHistory()}async getPostHistory(){if(this.static_post)return;let t=await Be().get(`/board/guest/posthistory/${this.$store.state.page?.id}/${this.slot}`);this.post_history=t.data}async getLikes(){}async getComments(){}lock_post(){this.static_post||(this.showPayment=!0)}async click_comments(){this.modalSelection="comment",this.clear_edit()}async click_edit(){this.modalSelection="edit",await this.getPostHistory()}async click_likes(){this.modalSelection="like",this.clear_edit()}async postComment(){}};qs=Hs([(0,Z.Ei)({components:{StripePayment:as,LockIndicator:us,CommentSection:Ls},props:{slot:Number,openTo:String,static_post:{}}})],qs);var Bs=qs;const Is=(0,O.Z)(Bs,[["render",He],["__scopeId","data-v-7432c3be"]]);var Ns=Is,As=function(t,e,s,a){var i,o=arguments.length,l=o<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,s):a;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)l=Reflect.decorate(t,e,s,a);else for(var n=t.length-1;n>=0;n--)(i=t[n])&&(l=(o<3?i(l):o>3?i(e,s,l):i(e,s))||l);return o>3&&l&&Object.defineProperty(e,s,l),l};let Ws=class extends Z.w3{constructor(...t){super(...t),(0,C.Z)(this,"slot",void 0),(0,C.Z)(this,"static_post",void 0),(0,C.Z)(this,"expanded",!1),(0,C.Z)(this,"post_history",[]),(0,C.Z)(this,"modalSelection","edit"),(0,C.Z)(this,"is_lock_hover",!1)}get post_status(){let t=0;return this.post.lock_expiration_time&&(t=new Date(this.post.lock_expiration_time+"").getTime()),t>(new Date).getTime()?"locked":"unlocked"}get post(){return this.static_post?this.static_post:this.$store.state.page?this.$store.state.page?.posts[this.slot]:{}}get postTime(){return this.ago(this.post.post_time)}get lock_expiration(){return new Date(this.post.lock_expiration_time+"")}ago(t){return new nt.Z("en-US").format(new Date(t+""),"mini")}expand(t="edit"){this.modalSelection=t,this.expanded=!0,this.$store.commit("set_isPageScroll",{scroll:!1})}collapse(){this.expanded=!1,this.$store.commit("set_isPageScroll",{scroll:!0})}};Ws=As([(0,Z.Ei)({props:{slot:Number,static_post:{}},components:{ExpandedPost:Ns,LockIndicator:us}})],Ws);var Vs=Ws;const Ys=(0,O.Z)(Vs,[["render",lt],["__scopeId","data-v-55174631"]]);var Fs=Ys,Ks=function(t,e,s,a){var i,o=arguments.length,l=o<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,s):a;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)l=Reflect.decorate(t,e,s,a);else for(var n=t.length-1;n>=0;n--)(i=t[n])&&(l=(o<3?i(l):o>3?i(e,s,l):i(e,s))||l);return o>3&&l&&Object.defineProperty(e,s,l),l};let Js=class extends Z.w3{constructor(...t){super(...t),(0,C.Z)(this,"post1",{authorusername:"Ekle Enterprise",title:"This is a post",content:"You can replace it by editing it!",id:-1,lock_expiration_time:new Date,lock_iteration:0,media:"/img/default_post.jpg",post_time:"5/22/2022",slot:-1,unlock_price:100}),(0,C.Z)(this,"post2",{authorusername:"Ekle Enterprise",title:"Locks",content:"You can pay to lock a post, or to take someone else's spot. A lock expires after 6 hours. Hover over the lock to see when the lock expires.",id:-1,lock_expiration_time:new Date((new Date).getTime()+216e5),lock_iteration:0,media:"/img/default_post.jpg",post_time:"5/22/2022",slot:-1,unlock_price:200})}goto_boardBrowser(){Ri.push("/boards")}};Js=Ks([(0,Z.Ei)({components:{PostComponent:Fs}})],Js);var Xs=Js;const Gs=(0,O.Z)(Xs,[["render",F]]);var Qs=Gs;const ta={class:"section"},ea={class:"container"},sa={class:"title is-1"},aa=(0,i._)("h2",{class:"subtitle"},"posts",-1),ia={key:0,class:"columns is-multiline"},oa={class:"column is-4"},la={key:1};function na(t,e){const s=(0,i.up)("PostComponent");return(0,i.wg)(),(0,i.iD)("section",ta,[(0,i._)("div",ea,[(0,i._)("h1",sa,(0,o.zw)(t.page_name),1),aa,(0,i._)("div",null,[t.loading?((0,i.wg)(),(0,i.iD)("div",la,"loading..")):((0,i.wg)(),(0,i.iD)("div",ia,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(t.$store.state.page?.posts,((t,e)=>((0,i.wg)(),(0,i.iD)("div",oa,[(0,i.Wm)(s,{slot:e},null,8,["slot"])])))),256))]))])])])}var ra=function(t,e,s,a){var i,o=arguments.length,l=o<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,s):a;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)l=Reflect.decorate(t,e,s,a);else for(var n=t.length-1;n>=0;n--)(i=t[n])&&(l=(o<3?i(l):o>3?i(e,s,l):i(e,s))||l);return o>3&&l&&Object.defineProperty(e,s,l),l};let ca=class extends Z.w3{constructor(...t){super(...t),(0,C.Z)(this,"page_name",""),(0,C.Z)(this,"loading",!0),(0,C.Z)(this,"editing",-1),(0,C.Z)(this,"editing_content",""),(0,C.Z)(this,"editing_title","")}async mounted(){this.page_name=this.$route.params.page,await this.loadPage(),this.loading=!1}async loadPage(){await this.$store.dispatch("getPage",{pagePath:this.page_name})}};ca=ra([(0,Z.Ei)({components:{PostComponent:Fs}})],ca);var da=ca;const ua=(0,O.Z)(da,[["render",na]]);var pa=ua;const ha=t=>((0,i.dD)("data-v-f0a20a9e"),t=t(),(0,i.Cn)(),t),ma={class:"login"},_a=ha((()=>(0,i._)("br",null,null,-1))),ga=ha((()=>(0,i._)("br",null,null,-1))),fa={class:"container has-text-centered"},va={class:"card login-card has-text-left"},ba={class:"tabs"},wa={key:0},ya={class:"message is-danger"},ka={class:"message-header"},xa=ha((()=>(0,i._)("p",null,"Error",-1))),Da={class:"message-body"},Ca={key:1},Za={class:"message is-success"},Pa={class:"message-header"},Sa=ha((()=>(0,i._)("p",null,"Success!",-1))),Ua={class:"message-body"},Oa={key:2},Ma=(0,i.Uk)(" Username "),Ea=ha((()=>(0,i._)("br",null,null,-1))),ja=ha((()=>(0,i._)("br",null,null,-1))),Ta=(0,i.Uk)(" Password "),za=ha((()=>(0,i._)("br",null,null,-1))),Ra=ha((()=>(0,i._)("br",null,null,-1))),$a=["href"],La=ha((()=>(0,i._)("i",{class:"fab fa-google"},null,-1))),Ha=(0,i.Uk)(" Â Â  Sign in with Google"),qa=[La,Ha],Ba={key:3},Ia=(0,i.Uk)(" Email "),Na=ha((()=>(0,i._)("br",null,null,-1))),Aa=ha((()=>(0,i._)("br",null,null,-1))),Wa=(0,i.Uk)(" Username "),Va=ha((()=>(0,i._)("br",null,null,-1))),Ya=ha((()=>(0,i._)("br",null,null,-1))),Fa=(0,i.Uk)(" Password "),Ka=ha((()=>(0,i._)("br",null,null,-1))),Ja=ha((()=>(0,i._)("br",null,null,-1))),Xa=(0,i.Uk)(" Repeat Password "),Ga=ha((()=>(0,i._)("br",null,null,-1))),Qa=ha((()=>(0,i._)("br",null,null,-1))),ti=ha((()=>(0,i._)("br",null,null,-1))),ei=ha((()=>(0,i._)("br",null,null,-1))),si=ha((()=>(0,i._)("br",null,null,-1))),ai=ha((()=>(0,i._)("br",null,null,-1)));function ii(t,e,s,l,n,r){return(0,i.wg)(),(0,i.iD)("div",ma,[_a,ga,(0,i._)("div",fa,[(0,i._)("div",va,[(0,i._)("div",ba,[(0,i._)("ul",null,[(0,i._)("li",{class:(0,o.C_)({"is-active":"login"==t.type})},[(0,i._)("a",{onClick:e[0]||(e[0]=(...e)=>t.tab_login&&t.tab_login(...e))},"Login")],2),(0,i._)("li",{class:(0,o.C_)({"is-active":"new"==t.type})},[(0,i._)("a",{onClick:e[1]||(e[1]=(...e)=>t.tab_create_account&&t.tab_create_account(...e))},"Create Account")],2)])]),t.error?((0,i.wg)(),(0,i.iD)("div",wa,[(0,i._)("article",ya,[(0,i._)("div",ka,[xa,(0,i._)("button",{onClick:e[2]||(e[2]=(...e)=>t.clearStatusMessage&&t.clearStatusMessage(...e)),class:"delete","aria-label":"delete"})]),(0,i._)("div",Da,(0,o.zw)(t.error),1)])])):(0,i.kq)("",!0),t.success?((0,i.wg)(),(0,i.iD)("div",Ca,[(0,i._)("article",Za,[(0,i._)("div",Pa,[Sa,(0,i._)("button",{onClick:e[3]||(e[3]=(...e)=>t.clearStatusMessage&&t.clearStatusMessage(...e)),class:"delete","aria-label":"delete"})]),(0,i._)("div",Ua,(0,o.zw)(t.success),1)])])):(0,i.kq)("",!0),"login"==t.type?((0,i.wg)(),(0,i.iD)("div",Oa,[Ma,(0,i.wy)((0,i._)("input",{"onUpdate:modelValue":e[4]||(e[4]=e=>t.username=e),class:"input",type:"text",placeholder:"username"},null,512),[[a.nr,t.username]]),Ea,ja,Ta,(0,i.wy)((0,i._)("input",{"onUpdate:modelValue":e[5]||(e[5]=e=>t.password=e),class:"input",type:"password",placeholder:"password"},null,512),[[a.nr,t.password]]),za,Ra,(0,i._)("a",{class:"button google",href:t.api_path+"/auth/google"},qa,8,$a),(0,i._)("div",{class:(0,o.C_)([{"is-loading":t.loading},"button"]),onClick:e[6]||(e[6]=(...e)=>t.login&&t.login(...e)),style:{float:"right"}}," Login ",2)])):(0,i.kq)("",!0),"new"==t.type?((0,i.wg)(),(0,i.iD)("div",Ba,[Ia,(0,i.wy)((0,i._)("input",{"onUpdate:modelValue":e[7]||(e[7]=e=>t.email=e),class:"input",type:"text",placeholder:"email"},null,512),[[a.nr,t.email]]),Na,Aa,Wa,(0,i.wy)((0,i._)("input",{"onUpdate:modelValue":e[8]||(e[8]=e=>t.username=e),class:"input",type:"text",placeholder:"username"},null,512),[[a.nr,t.username]]),Va,Ya,Fa,(0,i.wy)((0,i._)("input",{"onUpdate:modelValue":e[9]||(e[9]=e=>t.password=e),class:"input",type:"password",placeholder:"password"},null,512),[[a.nr,t.password]]),Ka,Ja,Xa,(0,i.wy)((0,i._)("input",{"onUpdate:modelValue":e[10]||(e[10]=e=>t.verify_password=e),class:"input",type:"password",placeholder:"repeat password"},null,512),[[a.nr,t.verify_password]]),Ga,Qa,(0,i._)("div",{onClick:e[11]||(e[11]=(...e)=>t.createAccount&&t.createAccount(...e)),class:(0,o.C_)([{"is-loading":t.loading},"button"]),style:{float:"right"}},"Create Account",2)])):(0,i.kq)("",!0),ti,ei])]),si,ai])}var oi=function(t,e,s,a){var i,o=arguments.length,l=o<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,s):a;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)l=Reflect.decorate(t,e,s,a);else for(var n=t.length-1;n>=0;n--)(i=t[n])&&(l=(o<3?i(l):o>3?i(e,s,l):i(e,s))||l);return o>3&&l&&Object.defineProperty(e,s,l),l};let li=class extends Z.w3{constructor(...t){super(...t),(0,C.Z)(this,"type","login"),(0,C.Z)(this,"username",""),(0,C.Z)(this,"password",""),(0,C.Z)(this,"verify_password",""),(0,C.Z)(this,"email",""),(0,C.Z)(this,"error",""),(0,C.Z)(this,"success",""),(0,C.Z)(this,"loading",!1),(0,C.Z)(this,"api_path",qi)}tab_login(){this.clearStatusMessage(),this.type="login"}tab_create_account(){this.clearStatusMessage(),this.type="new"}clearStatusMessage(){this.error="",this.success=""}async login(){if(this.clearStatusMessage(),this.loading=!0,""==this.username||""==this.password)return this.error="username and password must have a value",void(this.loading=!1);await this.$store.dispatch("login",{username:this.username,password:this.password}),this.loading=!1,this.$store.state.user?(this.success="Successfully logged in!",setTimeout((()=>{this.$router.push("/boards")}),1e3)):this.error="failed to login"}async loginWith(t){"google"==t&&(document.location.href=qi+"/auth/google")}async createAccount(){if(this.clearStatusMessage(),this.loading=!0,""==this.username||""==this.password||""==this.email||""==this.verify_password)return this.error="Please fill in all required values.",void(this.loading=!1);if(this.password!=this.verify_password)return this.error="passwords must match",void(this.loading=!1);let t=await Be().post("/auth/signup",{password:this.password,username:this.username,firstname:"",lastname:"",email:this.email});this.loading=!1,200==t.status?(this.success="Successfully created a new account! Please Login",setTimeout((()=>{this.type="login"}),1e3)):this.error=t.data}};li=oi([(0,Z.Ei)({components:{}})],li);var ni=li;const ri=(0,O.Z)(ni,[["render",ii],["__scopeId","data-v-f0a20a9e"]]);var ci=ri;const di={class:"section"},ui={class:"container"},pi=(0,i._)("h1",{class:"title is-1"},"Boards",-1),hi={class:"columns"},mi={class:"column"},_i={class:"box"},gi=(0,i._)("div",{class:"title"},"Create your Own",-1),fi=(0,i.Uk)("Create "),vi=(0,i._)("i",{class:"ml-3 fas fa-caret-square-right"},null,-1),bi=[fi,vi],wi={class:"column"},yi={class:"box"},ki=(0,i._)("div",{class:"title"},"Active",-1),xi=["href"],Di={class:"column"},Ci={class:"box"},Zi=(0,i._)("div",{class:"title"},"All",-1),Pi=["href"];function Si(t,e,s,l,n,r){return(0,i.wg)(),(0,i.iD)("section",di,[(0,i._)("div",ui,[pi,(0,i._)("div",hi,[(0,i._)("div",mi,[(0,i._)("div",_i,[gi,(0,i.wy)((0,i._)("input",{"onUpdate:modelValue":e[0]||(e[0]=e=>t.board_input=e),class:"input",type:"text",placeholder:"Board Name"},null,512),[[a.nr,t.board_input]]),(0,i._)("button",{onClick:e[1]||(e[1]=(...e)=>t.gotoBoard&&t.gotoBoard(...e)),class:"button mt-3"},bi)])]),(0,i._)("div",wi,[(0,i._)("div",yi,[ki,((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(t.active_pages,((t,e)=>((0,i.wg)(),(0,i.iD)("div",null,[(0,i._)("a",{href:"/board/"+t.path},(0,o.zw)(t.path),9,xi)])))),256))])]),(0,i._)("div",Di,[(0,i._)("div",Ci,[Zi,((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(t.all_pages,((t,e)=>((0,i.wg)(),(0,i.iD)("div",null,[(0,i._)("a",{href:"/board/"+t.path},(0,o.zw)(t.path),9,Pi)])))),256))])])])])])}var Ui=function(t,e,s,a){var i,o=arguments.length,l=o<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,s):a;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)l=Reflect.decorate(t,e,s,a);else for(var n=t.length-1;n>=0;n--)(i=t[n])&&(l=(o<3?i(l):o>3?i(e,s,l):i(e,s))||l);return o>3&&l&&Object.defineProperty(e,s,l),l};let Oi=class extends Z.w3{constructor(...t){super(...t),(0,C.Z)(this,"all_pages",[]),(0,C.Z)(this,"active_pages",[]),(0,C.Z)(this,"board_input","")}async mounted(){let t=await Be().get("/board/guest/boards");t.data&&(this.all_pages=t.data.all_pages,this.active_pages=t.data.active_pages)}gotoBoard(){this.board_input&&Ri.push("/board/"+this.board_input)}};Oi=Ui([(0,Z.Ei)({components:{}})],Oi);var Mi=Oi;const Ei=(0,O.Z)(Mi,[["render",Si]]);var ji=Ei;const Ti=[{path:"/",name:"home",component:Qs},{path:"/about",name:"about",component:()=>s.e(443).then(s.bind(s,4335))},{path:"/board/:page",name:"BoardView",component:pa},{path:"/login",name:"login",component:ci},{path:"/boards",name:"boards",component:ji}],zi=(0,j.p7)({history:(0,j.PO)("/"),routes:Ti});var Ri=zi,$i=s(65),Li=(0,$i.MT)({state:{user:null,stripe_api_key:"pk_live_51L1kmTKBVccfuaNcdLT88pIrsiNIcUxSDotPNZqzVSQdbHW3fXMUyVOuJTsnFHNy1LvnBAvVThTZF8wXgW9dYGSN00N8E84Kmy",pageScroll:!0},getters:{},mutations:{set_user(t,e){t.user=e},set_page(t,e){t.page=e},set_post(t,e){t.page&&(t.page.posts[e.slot]=e.post)},set_isPageScroll(t,e){t.pageScroll=e.scroll}},actions:{async getUser({dispatch:t,commit:e}){let s=await Be().get("/auth/user");return 200==s.status&&e("set_user",s.data),s.status},async login({dispatch:t,commit:e},{username:s,password:a}){let i=await Be().post("/auth/local",{username:s,password:a});return 200==i.status&&e("set_user",i.data),i.status},async logout({dispatch:t,commit:e}){let s=await Be().post("/auth/logout");return e("set_user",null),s.status},async getPage({dispatch:t,commit:e},{pagePath:s}){let a=await Be().get(`/board/guest/${s}`);return e("set_page",a.data),a.status},async updatePost({dispatch:t,commit:e},{post:s,mediaUrl:a}){let i=await fetch(a).then((t=>t.blob())),o=[...new Uint8Array(await i.arrayBuffer())],l=hs()(o),n=await Be().post(`/board/updatepost/${s.id}`,{post:s,mediaHash:l});if(200!=n.status)return n;let r=n.data.uploadUrl,c=n.data.fields;if(r&&c){let t=new FormData;for(let s in c)t.append(s,c[s]);t.append("Content-Type",i.type),t.append("file",i);try{let e=await fetch(r,{method:"POST",body:t});console.log(await e.text())}catch(d){console.log(d)}let e=await Be().put("/board/uploaded/"+n.data.user_post.id);n.data.user_post.media=e.data.media,console.log(e.media)}return e("set_post",{slot:s.slot,post:n.data.user_post}),n}},modules:{}}),Hi=s(7946);nt.Z.addDefaultLocale(Hi);let qi="https://api.boredofthings.com";Be().interceptors.request.use((t=>(t.url=qi+t.url,t.withCredentials=!0,t.validateStatus=()=>!0,t))),Be().interceptors.response.use((t=>(401==t.status&&(console.log("access denied"),console.log(t.config),t.config.url?.endsWith("/auth/user")||Ri.push("/login")),t)),(t=>t.response)),(0,a.ri)(E).use(Li).use(Ri).mount("#app")}},e={};function s(a){var i=e[a];if(void 0!==i)return i.exports;var o=e[a]={exports:{}};return t[a].call(o.exports,o,o.exports,s),o.exports}s.m=t,function(){var t=[];s.O=function(e,a,i,o){if(!a){var l=1/0;for(d=0;d<t.length;d++){a=t[d][0],i=t[d][1],o=t[d][2];for(var n=!0,r=0;r<a.length;r++)(!1&o||l>=o)&&Object.keys(s.O).every((function(t){return s.O[t](a[r])}))?a.splice(r--,1):(n=!1,o<l&&(l=o));if(n){t.splice(d--,1);var c=i();void 0!==c&&(e=c)}}return e}o=o||0;for(var d=t.length;d>0&&t[d-1][2]>o;d--)t[d]=t[d-1];t[d]=[a,i,o]}}(),function(){s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,{a:e}),e}}(),function(){s.d=function(t,e){for(var a in e)s.o(e,a)&&!s.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:e[a]})}}(),function(){s.f={},s.e=function(t){return Promise.all(Object.keys(s.f).reduce((function(e,a){return s.f[a](t,e),e}),[]))}}(),function(){s.u=function(t){return"js/about.fc475b27.js"}}(),function(){s.miniCssF=function(t){}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={},e="board:";s.l=function(a,i,o,l){if(t[a])t[a].push(i);else{var n,r;if(void 0!==o)for(var c=document.getElementsByTagName("script"),d=0;d<c.length;d++){var u=c[d];if(u.getAttribute("src")==a||u.getAttribute("data-webpack")==e+o){n=u;break}}n||(r=!0,n=document.createElement("script"),n.charset="utf-8",n.timeout=120,s.nc&&n.setAttribute("nonce",s.nc),n.setAttribute("data-webpack",e+o),n.src=a),t[a]=[i];var p=function(e,s){n.onerror=n.onload=null,clearTimeout(h);var i=t[a];if(delete t[a],n.parentNode&&n.parentNode.removeChild(n),i&&i.forEach((function(t){return t(s)})),e)return e(s)},h=setTimeout(p.bind(null,void 0,{type:"timeout",target:n}),12e4);n.onerror=p.bind(null,n.onerror),n.onload=p.bind(null,n.onload),r&&document.head.appendChild(n)}}}(),function(){s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){s.p="/"}(),function(){var t={143:0};s.f.j=function(e,a){var i=s.o(t,e)?t[e]:void 0;if(0!==i)if(i)a.push(i[2]);else{var o=new Promise((function(s,a){i=t[e]=[s,a]}));a.push(i[2]=o);var l=s.p+s.u(e),n=new Error,r=function(a){if(s.o(t,e)&&(i=t[e],0!==i&&(t[e]=void 0),i)){var o=a&&("load"===a.type?"missing":a.type),l=a&&a.target&&a.target.src;n.message="Loading chunk "+e+" failed.\n("+o+": "+l+")",n.name="ChunkLoadError",n.type=o,n.request=l,i[1](n)}};s.l(l,r,"chunk-"+e,e)}},s.O.j=function(e){return 0===t[e]};var e=function(e,a){var i,o,l=a[0],n=a[1],r=a[2],c=0;if(l.some((function(e){return 0!==t[e]}))){for(i in n)s.o(n,i)&&(s.m[i]=n[i]);if(r)var d=r(s)}for(e&&e(a);c<l.length;c++)o=l[c],s.o(t,o)&&t[o]&&t[o][0](),t[o]=0;return s.O(d)},a=self["webpackChunkboard"]=self["webpackChunkboard"]||[];a.forEach(e.bind(null,0)),a.push=e.bind(null,a.push.bind(a))}();var a=s.O(void 0,[998],(function(){return s(8006)}));a=s.O(a)})();
//# sourceMappingURL=app.4efe8845.js.map
(function(){"use strict";var e={9209:function(e,t,s){s.d(t,{X8:function(){return vo}});var i=s(9242),a=s(3396),o=s(7139);const l={style:{display:"flex","min-height":"100vh","flex-direction":"column"}},n={class:"navbar nav-color",role:"navigation","aria-label":"main_navigation"},r={class:"navbar-brand"},c=(0,a._)("i",{class:"fas fa-crosshairs"},null,-1),d=(0,a._)("strong",null,"Â Home",-1),u=(0,a._)("span",{"aria-hidden":"true"},null,-1),p=(0,a._)("span",{"aria-hidden":"true"},null,-1),h=(0,a._)("span",{"aria-hidden":"true"},null,-1),m=[u,p,h],_={class:"navbar-start"},g=(0,a._)("strong",null,"Board Browser",-1),v={key:0,class:"navbar-end"},f={class:"navbar-item"},b={class:"has-text-light"},w={class:"navbar-item"},y=(0,a._)("strong",{class:"has-text-light"},"Logout",-1),k=[y],x={key:1,class:"navbar-end"},C=(0,a._)("strong",null,"Login",-1),D=(0,a.uE)('<footer class="footer" style="margin-top:auto;background:#155e98;"><div class="container"><div class="level"><div class="level-left"><div class="level-item"><div><p class="title is-1 has-text-light">Ekle Enterprise</p><p class="is-3 has-text-light">enterprise.ekle@gmail.com</p></div></div></div><div class="level-right"><div class="level-item"><a href="https://discord.gg/pcWFzrAsQS" class="has-text-light"><span style="font-size:50px;" class="icon"><i class="fab fa-discord"></i></span></a></div></div></div></div></footer>',1);function Z(e,t,s,i,u,p){const h=(0,a.up)("router-link"),y=(0,a.up)("router-view");return(0,a.wg)(),(0,a.iD)("div",l,[(0,a._)("nav",n,[(0,a._)("div",r,[(0,a.Wm)(h,{to:"/",class:"navbar-item has-text-light"},{default:(0,a.w5)((()=>[c,d])),_:1}),(0,a._)("a",{role:"button",onClick:t[0]||(t[0]=t=>e.expanded=!e.expanded),class:(0,o.C_)("nav-color navbar-burger has-text-light "+(e.expanded?"is-active":"")),"aria-label":"menu","aria-expanded":"false","data-target":"main_navbar"},m,2)]),(0,a._)("div",{id:"main_navbar",class:(0,o.C_)("navbar-menu primary-color  nav-color "+(e.expanded?"is-active":""))},[(0,a._)("div",_,[(0,a.Wm)(h,{to:"/boards",class:"navbar-item has-text-light nav-color is-info"},{default:(0,a.w5)((()=>[g])),_:1})]),e.$store.state.user?((0,a.wg)(),(0,a.iD)("div",v,[(0,a._)("div",f,[(0,a._)("strong",b,"Hello, "+(0,o.zw)(e.$store.state.user.username),1)]),(0,a._)("div",w,[(0,a._)("div",{class:"is-clickable",onClick:t[1]||(t[1]=t=>e.logout())},k)])])):((0,a.wg)(),(0,a.iD)("div",x,[(0,a.Wm)(h,{to:"/login",class:"navbar-item has-text-light nav-color",style:{}},{default:(0,a.w5)((()=>[C])),_:1})]))],2)]),(0,a.Wm)(y),D])}var S=s(2482),P=s(6520),U=function(e,t,s,i){var a,o=arguments.length,l=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,s):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)l=Reflect.decorate(e,t,s,i);else for(var n=e.length-1;n>=0;n--)(a=e[n])&&(l=(o<3?a(l):o>3?a(t,s,l):a(t,s))||l);return o>3&&l&&Object.defineProperty(t,s,l),l};let T=class extends P.w3{constructor(...e){super(...e),(0,S.Z)(this,"expanded",!1)}mounted(){this.$store.dispatch("getUser")}async logout(){await this.$store.dispatch("logout"),this.$router.push("/login")}};T=U([(0,P.Ei)({components:{},computed:{pageScroll(){return this.$store.state.pageScroll}},watch:{pageScroll(e,t){e?document.getElementsByTagName("HTML")[0].setAttribute("style","overflow-y: overflow;"):document.getElementsByTagName("HTML")[0].setAttribute("style","overflow-y: hidden;")}}})],T);var E=T,O=s(89);const z=(0,O.Z)(E,[["render",Z]]);var M=z,j=s(678);const $={class:"section"},R={class:"container"},L=(0,a._)("div",{class:"title"},"Welcome to Bored of Things",-1),q={class:"columns"},B={class:"column"},H={class:"column"},N=(0,a.uE)('<section class="section"><div class="container"><div class="content"><h1 class="">Are you bored of <s>social media?</s> the algorithm?</h1><div class="is-size-5"><p>Bored of Things lets users like you decide what&#39;s on the front page by providing a finite amount of space per topic.</p><p>If you don&#39;t like a post, replace it with your own!</p><p>And, if you want to make sure no one replaces your post, lock it.</p></div></div></div></section>',1),A={class:"section"},I={class:"container"},W=(0,a._)("div",{class:"title"},"Explore",-1),V=(0,a._)("p",{class:"is-size-5"},"Check out what boards are available by going to the Board Browser, or create your own and share it with others. ",-1),F=(0,a._)("br",null,null,-1),Y=(0,a.Uk)(" Board Browser "),K=(0,a._)("i",{class:"ml-3 fas fa-caret-square-right"},null,-1),J=[Y,K];function X(e,t,s,i,o,l){const n=(0,a.up)("PostComponent");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a._)("section",$,[(0,a._)("div",R,[L,(0,a._)("div",q,[(0,a._)("div",B,[(0,a.Wm)(n,{static_post:e.post1},null,8,["static_post"])]),(0,a._)("div",H,[(0,a.Wm)(n,{static_post:e.post2},null,8,["static_post"])])])])]),N,(0,a._)("section",A,[(0,a._)("div",I,[W,V,F,(0,a._)("div",{class:"button",onClick:t[0]||(t[0]=(...t)=>e.goto_boardBrowser&&e.goto_boardBrowser(...t))},J)])])],64)}const G=e=>((0,a.dD)("data-v-d2fcec1a"),e=e(),(0,a.Cn)(),e),Q={class:"modal-content my-modal box"},ee={key:0,class:"tag is-danger",style:{position:"absolute",top:"10px",left:"10px"}},te={class:"highlight pt-5"},se={class:"post_content"},ie={class:"title pt-1 mb-2 has-text-white"},ae={class:"p-1 mb-2 has-text-white"},oe={class:"is-size-7 pt-1 px-1 has-text-white"},le={class:"is-clickable"},ne={class:"columns is-mobile controls m-0 is-size-5"},re={class:"column"},ce={class:"column"},de=G((()=>(0,a._)("i",{class:"far fa-comments"},null,-1))),ue={key:0,class:"is-size-7 has-text-white has-text-weight-bold comment_notification"},pe={key:1,class:"is-size-7 has-text-weight-bold comment_notification"},he=G((()=>(0,a._)("u",null,"99+",-1))),me=[he],_e={class:"column"};function ge(e,t){const s=(0,a.up)("ExpandedPost"),i=(0,a.up)("LockIndicator");return(0,a.wg)(),(0,a.iD)(a.HY,null,[e.expanded?((0,a.wg)(),(0,a.iD)("div",{key:0,class:(0,o.C_)(["modal",{"is-active":e.expanded}])},[(0,a._)("div",{onClick:t[0]||(t[0]=(...t)=>e.collapse&&e.collapse(...t)),class:"modal-background"}),(0,a._)("div",Q,[(0,a.Wm)(s,{slot:e.slot,static_post:e.static_post,openTo:e.modalSelection},null,8,["slot","static_post","openTo"])]),(0,a._)("button",{onClick:t[1]||(t[1]=(...t)=>e.collapse&&e.collapse(...t)),class:"modal-close is-large","aria-label":"close"})],2)):(0,a.kq)("",!0),(0,a._)("div",{class:"m-1",onClick:t[5]||(t[5]=t=>e.expand("comment"))},[(0,a._)("div",{class:"box pt-0 p-0",style:(0,o.j5)(" overflow:hidden; position:relative; background:url("+e.post.media+"); background-size:cover; background-repeat:no-repeat; background-position: center center; ")},[e.isNew?((0,a.wg)(),(0,a.iD)("div",ee," NEW ")):(0,a.kq)("",!0),"locked"==e.post_status?((0,a.wg)(),(0,a.j4)(i,{key:1,exp:e.lock_expiration,style:{position:"absolute",top:"10px",right:"10px"}},null,8,["exp"])):(0,a.kq)("",!0),(0,a._)("div",te,[(0,a._)("div",se,[(0,a._)("div",ie,(0,o.zw)(e.post.title),1),(0,a._)("div",ae,(0,o.zw)(e.post.content),1)]),(0,a._)("div",oe,[(0,a._)("b",le,(0,o.zw)(e.post.authorusername),1),(0,a.Uk)(" - "+(0,o.zw)(e.postTime),1)])]),(0,a._)("div",ne,[(0,a._)("div",re,[(0,a._)("i",{onClick:t[2]||(t[2]=t=>e.expand("like")),class:"is-clickable far fa-heart"})]),(0,a._)("div",ce,[(0,a._)("span",{class:"icon is-clickable",onClick:t[3]||(t[3]=t=>e.expand("comment")),style:{position:"relative"}},[de,e.post.commentcount>0&&e.post.commentcount<=99?((0,a.wg)(),(0,a.iD)("div",ue,[(0,a._)("u",null,(0,o.zw)(e.post.commentcount),1)])):(0,a.kq)("",!0),e.post.commentcount>99?((0,a.wg)(),(0,a.iD)("div",pe,me)):(0,a.kq)("",!0)])]),(0,a._)("div",_e,[(0,a._)("i",{onClick:t[4]||(t[4]=t=>e.expand("edit")),class:"is-clickable fas fa-pen"})])])],4)])],64)}var ve=s(4710);const fe=e=>((0,a.dD)("data-v-36579686"),e=e(),(0,a.Cn)(),e),be={class:"columns modal-columns p-0 m-0"},we={class:"column is-8 v-center",style:{position:"relative"}},ye={key:1,class:"tag is-warning float_preview_indicator"},ke=["src"],xe=["src"],Ce={class:"floatControls"},De=fe((()=>(0,a._)("span",{class:"icon is-small floatControlsColor"},[(0,a._)("i",{class:"is-clickable fas fa-pen"})],-1))),Ze=(0,a.Uk)(" Edit "),Se=[De,Ze],Pe=fe((()=>(0,a._)("span",{class:"icon is-small floatControlsColor"},[(0,a._)("i",{class:"far fa-times-circle"})],-1))),Ue=(0,a.Uk)(" Editing... "),Te=[Pe,Ue],Ee={class:"m-3",style:{}},Oe={key:0},ze={class:"message is-danger"},Me={class:"message-header"},je=fe((()=>(0,a._)("p",null,"Error",-1))),$e={class:"message-body"},Re={key:1},Le={style:{"max-height":"250px",overflow:"scroll","scrollbar-width":"none"}},qe={class:"title pt-1 mb-2"},Be={class:"p-1 mb-2"},He={class:"is-size-7 pt-1 px-1"},Ne={class:"is-clickable"},Ae={key:2},Ie={key:0},We={class:"field"},Ve=fe((()=>(0,a._)("label",{class:"label"},"Title",-1))),Fe={class:"control"},Ye={class:"field"},Ke=fe((()=>(0,a._)("label",{class:"label"},"Content",-1))),Je={class:"control"},Xe=["placeholder"],Ge=fe((()=>(0,a._)("label",{class:"label"},"Media",-1))),Qe={class:"field"},et={class:"control file has-name"},tt={class:"file-label"},st={key:1,class:"file-cta",style:{"border-right":"none"}},it=fe((()=>(0,a._)("span",{class:"file-icon"},[(0,a._)("i",{class:"fas fa-upload"})],-1))),at=[it],ot=fe((()=>(0,a._)("span",{class:"file-icon"},[(0,a._)("i",{class:"fas fa-trash"})],-1))),lt=[ot],nt=fe((()=>(0,a._)("br",null,null,-1))),rt={class:"level"},ct=fe((()=>(0,a._)("div",{class:"level-left",style:{"flex-shrink":"1"}},[(0,a._)("div",{class:"level-item",style:{"flex-shrink":"1"}},[(0,a._)("span",{class:""},"Lock for 6 hours")])],-1))),dt={class:"level-right",style:{"flex-shrink":"1"}},ut={class:"level-item",style:{"flex-shrink":"1"}},pt=fe((()=>(0,a._)("span",{class:"ml-1 icon"},[(0,a._)("i",{class:"fas fa-lock"})],-1))),ht=["disabled"],mt=(0,a.Uk)("Post "),_t=fe((()=>(0,a._)("span",{class:"ml-1 icon"},[(0,a._)("i",{class:"fas fa-paper-plane"})],-1))),gt=[mt,_t],vt=fe((()=>(0,a._)("div",{class:"is-pulled-left",style:{height:"100%"}},null,-1))),ft=fe((()=>(0,a._)("div",{class:"is-pulled-right"},null,-1))),bt={key:1},wt={class:"level is-mobile"},yt={class:"level-left"},kt={class:"level-item"},xt=fe((()=>(0,a._)("i",{class:"fas fa-arrow-left"},null,-1))),Ct=[xt],Dt={class:"level-right"},Zt={class:"level-item"},St={class:"tag is-success is-light is-size-5"},Pt={class:"tabs is-fullwidth my-3 pt-1 pb-3"},Ut={style:{border:"none"}},Tt=fe((()=>(0,a._)("a",null,[(0,a._)("span",{class:"icon is-small"},[(0,a._)("i",{class:"is-clickable far fa-heart"})])],-1))),Et=[Tt],Ot=fe((()=>(0,a._)("a",null,[(0,a._)("span",{class:"icon is-small"},[(0,a._)("i",{class:"is-clickable far fa-comments"})])],-1))),zt=[Ot],Mt=fe((()=>(0,a._)("a",null,[(0,a._)("span",{class:"icon is-small"},[(0,a._)("i",{class:"is-clickable fas fa-pen"})])],-1))),jt=[Mt],$t={key:0,class:""},Rt={key:1,class:""},Lt={key:2,class:"",style:{}},qt={class:"box mb-1 mx-2"},Bt={class:"columns"},Ht={class:"column is-8"},Nt={class:"title is-6 pt-1 mb-0"},At={class:"is-size-7 pt-1 px-1"},It={class:"is-clickable"},Wt={class:"p-1 mb-2"},Vt={class:"column is-4"},Ft=["src"];function Yt(e,t){const s=(0,a.up)("LockIndicator"),l=(0,a.up)("StripePayment"),n=(0,a.up)("CommentSection");return(0,a.wg)(),(0,a.iD)("div",be,[(0,a._)("div",we,["locked"==e.post_status?((0,a.wg)(),(0,a.j4)(s,{key:0,exp:e.lock_expiration,force_expanded:!0},null,8,["exp"])):(0,a.kq)("",!0),e.blobUrl?((0,a.wg)(),(0,a.iD)("span",ye,"PREVIEW")):(0,a.kq)("",!0),e.blobUrl?((0,a.wg)(),(0,a.iD)("img",{key:2,src:e.blobUrl,class:"postMedia",style:{"max-width":"100%","max-height":"100%",height:"auto","margin-left":"auto","margin-right":"auto"}},null,8,ke)):((0,a.wg)(),(0,a.iD)("img",{key:3,src:e.post.media,class:"postMedia",style:{"max-width":"100%","max-height":"100%",height:"auto","margin-left":"auto","margin-right":"auto"}},null,8,xe)),(0,a._)("div",Ce,["edit"!=e.modalSelection?((0,a.wg)(),(0,a.iD)("div",{key:0,class:"has-text-white is-clickable",onClick:t[0]||(t[0]=(...t)=>e.click_edit&&e.click_edit(...t))},Se)):((0,a.wg)(),(0,a.iD)("div",{key:1,class:"has-text-white is-clickable",onClick:t[1]||(t[1]=(...t)=>e.click_comments&&e.click_comments(...t))},Te))])]),(0,a._)("div",{class:(0,o.C_)("column is-4 modal-right p-0  "+(e.isMobile?"":"post_history"))},[(0,a._)("div",Ee,[e.postError?((0,a.wg)(),(0,a.iD)("div",Oe,[(0,a._)("article",ze,[(0,a._)("div",Me,[je,(0,a._)("button",{onClick:t[2]||(t[2]=t=>e.postError=""),class:"delete","aria-label":"delete"})]),(0,a._)("div",$e,(0,o.zw)(e.postError),1)])])):(0,a.kq)("",!0),"edit"!=e.modalSelection?((0,a.wg)(),(0,a.iD)("div",Re,[(0,a._)("div",Le,[(0,a._)("div",qe,(0,o.zw)(e.post.title),1),(0,a._)("div",Be,(0,o.zw)(e.post.content),1)]),(0,a._)("div",He,[(0,a._)("b",Ne,(0,o.zw)(e.post.authorusername),1),(0,a.Uk)(" - "+(0,o.zw)(e.postTime),1)])])):(0,a.kq)("",!0),"edit"==e.modalSelection?((0,a.wg)(),(0,a.iD)("div",Ae,[e.showPayment?((0,a.wg)(),(0,a.iD)("div",bt,[(0,a._)("div",wt,[(0,a._)("div",yt,[(0,a._)("div",kt,[(0,a._)("div",{onClick:t[11]||(t[11]=t=>e.cancelPayment()),class:"button"},Ct)])]),(0,a._)("div",Dt,[(0,a._)("div",Zt,[(0,a._)("span",St,"6 hours - "+(0,o.zw)(e.lock_cost),1)])])]),(0,a.Wm)(l,{onMount:e.stripeMount,blobHash:e.blobHash,post:e.updated_post},null,8,["onMount","blobHash","post"])])):((0,a.wg)(),(0,a.iD)("div",Ie,[(0,a._)("fieldset",null,[(0,a._)("div",We,[Ve,(0,a._)("div",Fe,[(0,a.wy)((0,a._)("input",{class:"input is-disabled",type:"text",placeholder:"Title","onUpdate:modelValue":t[3]||(t[3]=t=>e.editing_title=t)},null,512),[[i.nr,e.editing_title]])])]),(0,a._)("div",Ye,[Ke,(0,a._)("div",Je,[(0,a.wy)((0,a._)("textarea",{class:"textarea",placeholder:"Content...","onUpdate:modelValue":t[4]||(t[4]=t=>e.editing_content=t)},null,8,Xe),[[i.nr,e.editing_content]])])]),Ge,(0,a._)("div",Qe,[(0,a._)("div",et,[(0,a._)("label",tt,[e.blobUrl?(0,a.kq)("",!0):((0,a.wg)(),(0,a.iD)("input",{key:0,onChange:t[5]||(t[5]=(...t)=>e.previewFiles&&e.previewFiles(...t)),class:"file-input",type:"file",name:"resume",accept:"image/*"},null,32)),e.blobUrl?((0,a.wg)(),(0,a.iD)("span",{key:2,onClick:t[6]||(t[6]=(...t)=>e.clear_blob&&e.clear_blob(...t)),class:"file-cta",style:{"border-right":"none"}},lt)):((0,a.wg)(),(0,a.iD)("span",st,at))]),e.blobUrl?(0,a.wy)(((0,a.wg)(),(0,a.iD)("input",{key:0,class:"has-text-left input",style:{"border-left":"none"},"onUpdate:modelValue":t[7]||(t[7]=t=>e.mediaEditingUrl=t),placeholder:"",disabled:""},null,512)),[[i.nr,e.mediaEditingUrl]]):(0,a.wy)(((0,a.wg)(),(0,a.iD)("input",{key:1,class:"has-text-left input",style:{"border-left":"none"},"onUpdate:modelValue":t[8]||(t[8]=t=>e.editing_media=t),placeholder:"upload a file, or paste a link"},null,512)),[[i.nr,e.editing_media]])])]),nt,(0,a._)("div",rt,[ct,(0,a._)("div",dt,[(0,a._)("div",ut,[(0,a._)("button",{onClick:t[9]||(t[9]=(...t)=>e.lock_post&&e.lock_post(...t)),class:"m-1 button is-warning"},[(0,a.Uk)((0,o.zw)(e.lock_cost)+" ",1),pt]),(0,a._)("button",{disabled:"locked"==e.post_status,onClick:t[10]||(t[10]=(...t)=>e.save_edit&&e.save_edit(...t)),class:"m-1 button is-success"},gt,8,ht)])])]),vt,ft])]))])):(0,a.kq)("",!0)]),(0,a._)("div",Pt,[(0,a._)("ul",Ut,[(0,a._)("li",{onClick:t[12]||(t[12]=(...t)=>e.click_likes&&e.click_likes(...t)),class:(0,o.C_)({"is-active":"like"==e.modalSelection})},Et,2),(0,a._)("li",{onClick:t[13]||(t[13]=(...t)=>e.click_comments&&e.click_comments(...t)),class:(0,o.C_)({"is-active":"comment"==e.modalSelection})},zt,2),(0,a._)("li",{onClick:t[14]||(t[14]=(...t)=>e.click_edit&&e.click_edit(...t)),class:(0,o.C_)({"is-active":"edit"==e.modalSelection})},jt,2)])]),"like"==e.modalSelection?((0,a.wg)(),(0,a.iD)("div",$t," likes... coming soon ")):(0,a.kq)("",!0),"comment"==e.modalSelection?((0,a.wg)(),(0,a.iD)("div",Rt,[(0,a.Wm)(n,{slot:e.slot},null,8,["slot"])])):(0,a.kq)("",!0),"edit"==e.modalSelection?((0,a.wg)(),(0,a.iD)("div",Lt,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.post_history,((t,s)=>((0,a.wg)(),(0,a.iD)("div",null,[(0,a._)("div",qt,[(0,a._)("div",Bt,[(0,a._)("div",Ht,[(0,a._)("div",Nt,(0,o.zw)(t.title),1),(0,a._)("div",At,[(0,a._)("b",It,(0,o.zw)(t.authorusername),1),(0,a.Uk)(" - "+(0,o.zw)(e.ago(t.post_time))+" ",1),(0,a._)("div",Wt,(0,o.zw)(t.content),1)])]),(0,a._)("div",Vt,[(0,a._)("img",{alt:"media",src:t.media,style:{width:"auto",height:"70px"}},null,8,Ft)])])])])))),256))])):(0,a.kq)("",!0)],2)])}s(8675),s(3462);var Kt=s(6265),Jt=s.n(Kt);const Xt={key:0,id:"payment-form"},Gt=(0,a._)("div",{id:"payment-element"},null,-1),Qt=(0,a._)("div",{class:"spinner hidden",id:"spinner"},null,-1),es=(0,a._)("span",{id:"button-text"},"Pay now",-1),ts=[Qt,es],ss={key:0},is={key:1},as={class:"message is-danger"},os=(0,a._)("div",{class:"message-header"},[(0,a._)("p",null,"Error")],-1),ls={class:"message-body"};function ns(e,t){return e.postError?((0,a.wg)(),(0,a.iD)("div",is,[(0,a._)("article",as,[os,(0,a._)("div",ls,(0,o.zw)(e.postError),1)])])):((0,a.wg)(),(0,a.iD)("form",Xt,[Gt,(0,a._)("div",{class:"button mt-3",onClick:t[0]||(t[0]=(...t)=>e.pay&&e.pay(...t))},ts),""!=e.message?((0,a.wg)(),(0,a.iD)("div",ss,(0,o.zw)(e.message),1)):(0,a.kq)("",!0)]))}var rs=function(e,t,s,i){var a,o=arguments.length,l=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,s):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)l=Reflect.decorate(e,t,s,i);else for(var n=e.length-1;n>=0;n--)(a=e[n])&&(l=(o<3?a(l):o>3?a(t,s,l):a(t,s))||l);return o>3&&l&&Object.defineProperty(t,s,l),l};let cs=class extends P.w3{constructor(...e){super(...e),(0,S.Z)(this,"post",void 0),(0,S.Z)(this,"blobHash",void 0),(0,S.Z)(this,"stripe",void 0),(0,S.Z)(this,"elements",void 0),(0,S.Z)(this,"isLoading",!1),(0,S.Z)(this,"message",""),(0,S.Z)(this,"postError","")}async mounted(){this.stripe=window.Stripe(this.$store.state.stripe_api_key);let e=await Jt().post("/payment/purchase/post",{post:this.post,hash:this.blobHash});if(this.$.emit("mount",{uploadUrl:e.data.uploadUrl,fields:e.data.fields}),e.status>=400||e.status<200)return e.data,void(this.postError=e.data);let t=e.data.clientSecret;this.elements=this.stripe.elements({appearance:{theme:"stripe"},clientSecret:t}),this.elements.create("payment").mount("#payment-element")}async pay(){this.isLoading=!0;const{error:e}=await this.stripe.confirmPayment({elements:this.elements,confirmParams:{return_url:window.location.href}});"card_error"===e.type||"validation_error"===e.type?this.showMessage(e.message):this.showMessage("An unexpected error occured."),this.isLoading=!1}showMessage(e){this.message=e;let t=this;setTimeout((function(){t.message=""}),4e3)}async checkStatus(){const e=new URLSearchParams(window.location.search).get("payment_intent_client_secret");if(!e)return;const{paymentIntent:t}=await this.stripe.retrievePaymentIntent(e);switch(t.status){case"succeeded":this.showMessage("Payment succeeded!");break;case"processing":this.showMessage("Your payment is processing.");break;case"requires_payment_method":this.showMessage("Your payment was not successful, please try again.");break;default:this.showMessage("Something went wrong.");break}}};cs=rs([(0,P.Ei)({props:{post:{},blobHash:String}})],cs);var ds=cs;const us=(0,O.Z)(ds,[["render",ns]]);var ps=us;const hs=(0,a._)("i",{class:"fas fa-lock"},null,-1),ms={key:0,class:"ml-1"};function _s(e,t,s,i,l,n){return(0,a.wg)(),(0,a.iD)("span",{class:"float_lock_indicator tag is-warning",onMouseover:t[0]||(t[0]=t=>e.mouse_over=!0),onMouseleave:t[1]||(t[1]=t=>e.mouse_over=!1)},[hs,e.hover?((0,a.wg)(),(0,a.iD)("span",ms,(0,o.zw)(e.timeLeft),1)):(0,a.kq)("",!0)],32)}var gs=function(e,t,s,i){var a,o=arguments.length,l=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,s):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)l=Reflect.decorate(e,t,s,i);else for(var n=e.length-1;n>=0;n--)(a=e[n])&&(l=(o<3?a(l):o>3?a(t,s,l):a(t,s))||l);return o>3&&l&&Object.defineProperty(t,s,l),l};let vs=class extends P.w3{constructor(...e){super(...e),(0,S.Z)(this,"exp",void 0),(0,S.Z)(this,"force_expanded",void 0),(0,S.Z)(this,"timeLeft",""),(0,S.Z)(this,"mouse_over",!1),(0,S.Z)(this,"interval",null)}mounted(){null==this.force_expanded&&(this.force_expanded=!1),this.interval=setInterval((()=>{let e=(this.exp.getTime()-(new Date).getTime())/1e3,t=Math.trunc(e/60/60);e-=60*t*60;let s=Math.trunc(e/60);e-=60*s,e=Math.trunc(e),this.timeLeft=`${t}h ${s}m ${e}s`}),1e3)}unmounted(){clearInterval(this.interval)}get hover(){return this.force_expanded||this.mouse_over}};vs=gs([(0,P.Ei)({components:{},props:{exp:Date,force_expanded:Boolean}})],vs);var fs=vs;const bs=(0,O.Z)(fs,[["render",_s]]);var ws=bs,ys=s(8904),ks=s.n(ys);const xs=e=>((0,a.dD)("data-v-0ecde3ce"),e=e(),(0,a.Cn)(),e),Cs={class:"media m-2"},Ds=xs((()=>(0,a._)("figure",{class:"media-left"},[(0,a._)("p",{class:"image is-48x48"},[(0,a._)("img",{class:"",src:"/img/Chest.png"})])],-1))),Zs={class:"media-content"},Ss={class:"field"},Ps={class:"control"},Us={class:""},Ts={class:"media m-2"},Es=xs((()=>(0,a._)("figure",{class:"media-left"},[(0,a._)("p",{class:"image is-48x48"},[(0,a._)("img",{class:"",src:"/img/Chest.png"})])],-1))),Os={class:"media-content has-text-left"},zs={class:"content"},Ms=(0,a.Uk)(),js=xs((()=>(0,a._)("br",null,null,-1))),$s=xs((()=>(0,a._)("nav",{class:"level is-mobile"},null,-1))),Rs={key:0},Ls=(0,a.Uk)("No comments yet! "),qs=xs((()=>(0,a._)("br",null,null,-1))),Bs=(0,a.Uk)(" Why don't you say something?"),Hs=[Ls,qs,Bs];function Ns(e,t){return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a._)("article",Cs,[Ds,(0,a._)("div",Zs,[(0,a._)("div",Ss,[(0,a._)("p",Ps,[(0,a.wy)((0,a._)("textarea",{"onUpdate:modelValue":t[0]||(t[0]=t=>e.content=t),class:"textarea",placeholder:"Add a comment..."},null,512),[[i.nr,e.content]])])]),(0,a._)("a",{onClick:t[1]||(t[1]=(...t)=>e.submit&&e.submit(...t)),class:"button is-info is-pulled-right"},"Submit")])]),(0,a._)("div",Us,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.comments,((t,s)=>((0,a.wg)(),(0,a.iD)("div",null,[(0,a._)("article",Ts,[Es,(0,a._)("div",Os,[(0,a._)("div",zs,[(0,a._)("p",null,[(0,a._)("strong",null,(0,o.zw)(t.username),1),Ms,(0,a._)("small",null,(0,o.zw)(e.ago(t.comment_time)),1),js,(0,a.Uk)(" "+(0,o.zw)(t.content),1)])]),$s])])])))),256))]),0==e.comments.length?((0,a.wg)(),(0,a.iD)("div",Rs,Hs)):(0,a.kq)("",!0),e.comments.length>19?((0,a.wg)(),(0,a.iD)("div",{key:1,class:"button mb-3",onClick:t[2]||(t[2]=(...t)=>e.loadMore&&e.loadMore(...t))},"Load More")):(0,a.kq)("",!0)],64)}var As=function(e,t,s,i){var a,o=arguments.length,l=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,s):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)l=Reflect.decorate(e,t,s,i);else for(var n=e.length-1;n>=0;n--)(a=e[n])&&(l=(o<3?a(l):o>3?a(t,s,l):a(t,s))||l);return o>3&&l&&Object.defineProperty(t,s,l),l};let Is=class extends P.w3{constructor(...e){super(...e),(0,S.Z)(this,"slot",void 0),(0,S.Z)(this,"content",""),(0,S.Z)(this,"comments",[])}ago(e){return new ve.Z("en-US").format(new Date(e+""),"mini")}get post(){return this.$store.state.page?this.$store.state.page?.posts[this.slot]:{}}async mounted(){this.getComments()}async getComments(){let e=await Jt().get(`/board/guest/comment/${this.post.id}/-1/20`);200==e.status&&(this.comments=e.data)}async loadMore(){console.log(this.comments[this.comments.length-1].id);let e=this.comments[this.comments.length-1].id,t=await Jt().get(`/board/guest/comment/${this.post.id}/${e}/20`);for(let s of t.data)this.comments.push(s)}async submit(){await Jt().post(`/board/comment/${this.post.id}`,{content:this.content});this.content="",await this.getComments(),this.post.commentcount++}};Is=As([(0,P.Ei)({props:{slot:Number}})],Is);var Ws=Is;const Vs=(0,O.Z)(Ws,[["render",Ns],["__scopeId","data-v-0ecde3ce"]]);var Fs=Vs,Ys=function(e,t,s,i){var a,o=arguments.length,l=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,s):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)l=Reflect.decorate(e,t,s,i);else for(var n=e.length-1;n>=0;n--)(a=e[n])&&(l=(o<3?a(l):o>3?a(t,s,l):a(t,s))||l);return o>3&&l&&Object.defineProperty(t,s,l),l};let Ks=class extends P.w3{constructor(...e){super(...e),(0,S.Z)(this,"slot",void 0),(0,S.Z)(this,"openTo",void 0),(0,S.Z)(this,"editing",!1),(0,S.Z)(this,"editing_content",""),(0,S.Z)(this,"editing_title",""),(0,S.Z)(this,"editing_media",""),(0,S.Z)(this,"blobUrl",""),(0,S.Z)(this,"blobHash",""),(0,S.Z)(this,"expanded",!1),(0,S.Z)(this,"post_history",[]),(0,S.Z)(this,"modalSelection","edit"),(0,S.Z)(this,"showPayment",!1),(0,S.Z)(this,"postError",""),(0,S.Z)(this,"static_post",void 0),(0,S.Z)(this,"uploadId","a"+Math.floor(1e18*Math.random())),(0,S.Z)(this,"isMobile",!1)}resize(){this.isMobile=this.calcIsMobile()}calcIsMobile(){return document.body.clientWidth<=760}get post(){return this.static_post?this.static_post:this.$store.state.page?this.$store.state.page?.posts[this.slot]:{}}get mediaEditingUrl(){return this.editing_media.startsWith("u-")?this.editing_media.slice(2):this.editing_media}get post_status(){let e=0;return this.post.lock_expiration_time&&(e=new Date(this.post.lock_expiration_time+"").getTime()),e>(new Date).getTime()?"locked":"unlocked"}get updated_post(){let e=JSON.parse(JSON.stringify(this.post));return e.title=this.editing_title,e.media=this.editing_media,e.content=this.editing_content,e}get postTime(){return this.ago(this.post.post_time)}get lock_expiration(){return new Date(this.post.lock_expiration_time+"")}get lock_cost(){var e=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"});return e.format(this.post.unlock_price/100)}mounted(){switch(this.openTo){case"edit":this.click_edit();break;case"comment":this.click_comments();break;case"like":this.click_likes();break;default:this.click_comments();break}window.addEventListener("resize",this.resize)}unmounted(){window.removeEventListener("resize",this.resize)}clear_blob(e){this.blobUrl="",this.editing_media="",e&&e.preventDefault()}clear_edit(){this.clear_blob(),this.editing_content="",this.editing_media="",this.editing_title=""}async stripeMount({uploadUrl:e,fields:t}){let s=await fetch(this.blobUrl).then((e=>e.blob()));if(e&&t){let a=new FormData;for(let e in t)a.append(e,t[e]);a.append("Content-Type",s.type),a.append("file",s);try{let t=await fetch(e,{method:"POST",body:a});console.log(await t.text())}catch(i){console.log(i)}}}async previewFiles(e){let t=e.target.files[0];if(t.size>1e6)return void(this.postError="Max Image Size: 1MB");this.blobUrl=URL.createObjectURL(t),this.editing_media="u-"+t.name;let s=await fetch(this.blobUrl).then((e=>e.blob())),i=[...new Uint8Array(await s.arrayBuffer())],a=ks()(i);this.blobHash=a}ago(e){return new ve.Z("en-US").format(new Date(e+""),"mini")}cancelPayment(){this.showPayment=!1}begin_edit(){this.editing=!0,this.editing_title=this.post.title,this.editing_content=this.post.content}async save_edit(){if(this.static_post)return;let e=JSON.parse(JSON.stringify(this.post));e.title=this.editing_title,e.media=this.editing_media,e.content=this.editing_content;let t=await fetch(this.blobUrl).then((e=>e.blob()));if(t.size>1e6)return void(this.postError="Max Image Size: 1MB");let s=await this.$store.dispatch("updatePost",{post:e,mediaUrl:this.blobUrl});s.status>=400||s.status<200?(s.data,this.postError=s.data):(this.clear_edit(),this.postError="",this.editing=!1,await this.getPostHistory())}async getPostHistory(){if(this.static_post)return;let e=await Jt().get(`/board/guest/posthistory/${this.$store.state.page?.id}/${this.slot}`);this.post_history=e.data}async getLikes(){}async getComments(){}lock_post(){this.static_post||(this.showPayment=!0)}async click_comments(){this.modalSelection="comment",this.clear_edit()}async click_edit(){this.modalSelection="edit",await this.getPostHistory()}async click_likes(){this.modalSelection="like",this.clear_edit()}async postComment(){}};Ks=Ys([(0,P.Ei)({components:{StripePayment:ps,LockIndicator:ws,CommentSection:Fs},props:{slot:Number,openTo:String,static_post:{}}})],Ks);var Js=Ks;const Xs=(0,O.Z)(Js,[["render",Yt],["__scopeId","data-v-36579686"]]);var Gs=Xs,Qs=function(e,t,s,i){var a,o=arguments.length,l=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,s):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)l=Reflect.decorate(e,t,s,i);else for(var n=e.length-1;n>=0;n--)(a=e[n])&&(l=(o<3?a(l):o>3?a(t,s,l):a(t,s))||l);return o>3&&l&&Object.defineProperty(t,s,l),l};let ei=class extends P.w3{constructor(...e){super(...e),(0,S.Z)(this,"slot",void 0),(0,S.Z)(this,"static_post",void 0),(0,S.Z)(this,"expanded",!1),(0,S.Z)(this,"post_history",[]),(0,S.Z)(this,"modalSelection","edit"),(0,S.Z)(this,"is_lock_hover",!1)}get post_status(){let e=0;return this.post.lock_expiration_time&&(e=new Date(this.post.lock_expiration_time+"").getTime()),e>(new Date).getTime()?"locked":"unlocked"}get post(){return this.static_post?this.static_post:this.$store.state.page?this.$store.state.page?.posts[this.slot]:{}}get isNew(){return(new Date).getTime()-new Date(this.post.post_time+"").getTime()<216e5}get postTime(){return this.ago(this.post.post_time)}get lock_expiration(){return new Date(this.post.lock_expiration_time+"")}ago(e){return new ve.Z("en-US").format(new Date(e+""),"mini")}expand(e="edit"){this.modalSelection=e,this.expanded=!0,this.$store.commit("set_isPageScroll",{scroll:!1})}collapse(){this.expanded=!1,this.$store.commit("set_isPageScroll",{scroll:!0})}};ei=Qs([(0,P.Ei)({props:{slot:Number,static_post:{}},components:{ExpandedPost:Gs,LockIndicator:ws}})],ei);var ti=ei;const si=(0,O.Z)(ti,[["render",ge],["__scopeId","data-v-d2fcec1a"]]);var ii=si,ai=function(e,t,s,i){var a,o=arguments.length,l=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,s):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)l=Reflect.decorate(e,t,s,i);else for(var n=e.length-1;n>=0;n--)(a=e[n])&&(l=(o<3?a(l):o>3?a(t,s,l):a(t,s))||l);return o>3&&l&&Object.defineProperty(t,s,l),l};let oi=class extends P.w3{constructor(...e){super(...e),(0,S.Z)(this,"post1",{authorusername:"Ekle Enterprise",title:"This is a post",content:"You can replace it by editing it!",id:-1,lock_expiration_time:new Date,lock_iteration:0,media:"/img/default_post.jpg",post_time:"5/22/2022",slot:-1,unlock_price:100,commentcount:0}),(0,S.Z)(this,"post2",{authorusername:"Ekle Enterprise",title:"Locks",content:"You can pay to lock a post, or to take someone else's spot. A lock expires after 6 hours. Hover over the lock to see when the lock expires.",id:-1,lock_expiration_time:new Date((new Date).getTime()+216e5),lock_iteration:0,media:"/img/default_post.jpg",post_time:"5/22/2022",slot:-1,unlock_price:200,commentcount:0})}goto_boardBrowser(){ho.push("/boards")}};oi=ai([(0,P.Ei)({components:{PostComponent:ii}})],oi);var li=oi;const ni=(0,O.Z)(li,[["render",X]]);var ri=ni;const ci={class:"section"},di={class:"container"},ui={class:"level"},pi={class:"level-left"},hi={class:"level-item"},mi={class:"title is-1"},_i={class:"level-right"},gi={class:"level-item"},vi={class:"tag is-success is-medium mr-3"},fi=(0,a._)("i",{class:"fas fa-share-square"},null,-1),bi=[fi],wi=(0,a._)("hr",null,null,-1),yi={key:0,class:"columns is-multiline"},ki={class:"column is-4"},xi={key:1};function Ci(e,t){const s=(0,a.up)("PostComponent");return(0,a.wg)(),(0,a.iD)("section",ci,[(0,a._)("div",di,[(0,a._)("div",ui,[(0,a._)("div",pi,[(0,a._)("div",hi,[(0,a._)("h1",mi,(0,o.zw)(e.page_name),1)])]),(0,a._)("div",_i,[(0,a._)("div",gi,[(0,a._)("span",vi,(0,o.zw)(null==e.page?"-":e.page.visits)+" views ",1),e.copied?((0,a.wg)(),(0,a.iD)("span",{key:1,class:"button",onClick:t[1]||(t[1]=(...t)=>e.click_share&&e.click_share(...t))},"copied")):((0,a.wg)(),(0,a.iD)("span",{key:0,class:"button",onClick:t[0]||(t[0]=(...t)=>e.click_share&&e.click_share(...t))},bi))])])]),wi,(0,a._)("div",null,[e.loading?((0,a.wg)(),(0,a.iD)("div",xi,"loading..")):((0,a.wg)(),(0,a.iD)("div",yi,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.$store.state.page?.posts,((e,t)=>((0,a.wg)(),(0,a.iD)("div",ki,[(0,a.Wm)(s,{slot:t},null,8,["slot"])])))),256))]))])])])}var Di=function(e,t,s,i){var a,o=arguments.length,l=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,s):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)l=Reflect.decorate(e,t,s,i);else for(var n=e.length-1;n>=0;n--)(a=e[n])&&(l=(o<3?a(l):o>3?a(t,s,l):a(t,s))||l);return o>3&&l&&Object.defineProperty(t,s,l),l};let Zi=class extends P.w3{constructor(...e){super(...e),(0,S.Z)(this,"page_name",""),(0,S.Z)(this,"loading",!0),(0,S.Z)(this,"editing",-1),(0,S.Z)(this,"editing_content",""),(0,S.Z)(this,"editing_title",""),(0,S.Z)(this,"copied",!1),(0,S.Z)(this,"copied_interval",-1)}get page(){return this.$store.state.page}async mounted(){this.page_name=this.$route.params.page,await this.loadPage(),this.loading=!1}async loadPage(){await this.$store.dispatch("getPage",{pagePath:this.page_name})}click_share(){this.copyTextToClipboard(document.location.href),this.copied=!0,clearTimeout(this.copied_interval),this.copied_interval=setTimeout((()=>{this.copied=!1}),2e3)}fallbackCopyTextToClipboard(e){var t=document.createElement("textarea");t.value=e,t.style.top="0",t.style.left="0",t.style.position="fixed",document.body.appendChild(t),t.focus(),t.select();try{var s=document.execCommand("copy"),i=s?"successful":"unsuccessful";console.log("Fallback: Copying text command was "+i)}catch(a){console.error("Fallback: Oops, unable to copy",a)}document.body.removeChild(t)}copyTextToClipboard(e){navigator.clipboard?navigator.clipboard.writeText(e).then((function(){console.log("Async: Copying to clipboard was successful!")}),(function(e){console.error("Async: Could not copy text: ",e)})):this.fallbackCopyTextToClipboard(e)}};Zi=Di([(0,P.Ei)({components:{PostComponent:ii}})],Zi);var Si=Zi;const Pi=(0,O.Z)(Si,[["render",Ci]]);var Ui=Pi;const Ti=e=>((0,a.dD)("data-v-f0a20a9e"),e=e(),(0,a.Cn)(),e),Ei={class:"login"},Oi=Ti((()=>(0,a._)("br",null,null,-1))),zi=Ti((()=>(0,a._)("br",null,null,-1))),Mi={class:"container has-text-centered"},ji={class:"card login-card has-text-left"},$i={class:"tabs"},Ri={key:0},Li={class:"message is-danger"},qi={class:"message-header"},Bi=Ti((()=>(0,a._)("p",null,"Error",-1))),Hi={class:"message-body"},Ni={key:1},Ai={class:"message is-success"},Ii={class:"message-header"},Wi=Ti((()=>(0,a._)("p",null,"Success!",-1))),Vi={class:"message-body"},Fi={key:2},Yi=(0,a.Uk)(" Username "),Ki=Ti((()=>(0,a._)("br",null,null,-1))),Ji=Ti((()=>(0,a._)("br",null,null,-1))),Xi=(0,a.Uk)(" Password "),Gi=Ti((()=>(0,a._)("br",null,null,-1))),Qi=Ti((()=>(0,a._)("br",null,null,-1))),ea=["href"],ta=Ti((()=>(0,a._)("i",{class:"fab fa-google"},null,-1))),sa=(0,a.Uk)(" Â Â  Sign in with Google"),ia=[ta,sa],aa={key:3},oa=(0,a.Uk)(" Email "),la=Ti((()=>(0,a._)("br",null,null,-1))),na=Ti((()=>(0,a._)("br",null,null,-1))),ra=(0,a.Uk)(" Username "),ca=Ti((()=>(0,a._)("br",null,null,-1))),da=Ti((()=>(0,a._)("br",null,null,-1))),ua=(0,a.Uk)(" Password "),pa=Ti((()=>(0,a._)("br",null,null,-1))),ha=Ti((()=>(0,a._)("br",null,null,-1))),ma=(0,a.Uk)(" Repeat Password "),_a=Ti((()=>(0,a._)("br",null,null,-1))),ga=Ti((()=>(0,a._)("br",null,null,-1))),va=Ti((()=>(0,a._)("br",null,null,-1))),fa=Ti((()=>(0,a._)("br",null,null,-1))),ba=Ti((()=>(0,a._)("br",null,null,-1))),wa=Ti((()=>(0,a._)("br",null,null,-1)));function ya(e,t,s,l,n,r){return(0,a.wg)(),(0,a.iD)("div",Ei,[Oi,zi,(0,a._)("div",Mi,[(0,a._)("div",ji,[(0,a._)("div",$i,[(0,a._)("ul",null,[(0,a._)("li",{class:(0,o.C_)({"is-active":"login"==e.type})},[(0,a._)("a",{onClick:t[0]||(t[0]=(...t)=>e.tab_login&&e.tab_login(...t))},"Login")],2),(0,a._)("li",{class:(0,o.C_)({"is-active":"new"==e.type})},[(0,a._)("a",{onClick:t[1]||(t[1]=(...t)=>e.tab_create_account&&e.tab_create_account(...t))},"Create Account")],2)])]),e.error?((0,a.wg)(),(0,a.iD)("div",Ri,[(0,a._)("article",Li,[(0,a._)("div",qi,[Bi,(0,a._)("button",{onClick:t[2]||(t[2]=(...t)=>e.clearStatusMessage&&e.clearStatusMessage(...t)),class:"delete","aria-label":"delete"})]),(0,a._)("div",Hi,(0,o.zw)(e.error),1)])])):(0,a.kq)("",!0),e.success?((0,a.wg)(),(0,a.iD)("div",Ni,[(0,a._)("article",Ai,[(0,a._)("div",Ii,[Wi,(0,a._)("button",{onClick:t[3]||(t[3]=(...t)=>e.clearStatusMessage&&e.clearStatusMessage(...t)),class:"delete","aria-label":"delete"})]),(0,a._)("div",Vi,(0,o.zw)(e.success),1)])])):(0,a.kq)("",!0),"login"==e.type?((0,a.wg)(),(0,a.iD)("div",Fi,[Yi,(0,a.wy)((0,a._)("input",{"onUpdate:modelValue":t[4]||(t[4]=t=>e.username=t),class:"input",type:"text",placeholder:"username"},null,512),[[i.nr,e.username]]),Ki,Ji,Xi,(0,a.wy)((0,a._)("input",{"onUpdate:modelValue":t[5]||(t[5]=t=>e.password=t),class:"input",type:"password",placeholder:"password"},null,512),[[i.nr,e.password]]),Gi,Qi,(0,a._)("a",{class:"button google",href:e.api_path+"/auth/google"},ia,8,ea),(0,a._)("div",{class:(0,o.C_)([{"is-loading":e.loading},"button"]),onClick:t[6]||(t[6]=(...t)=>e.login&&e.login(...t)),style:{float:"right"}}," Login ",2)])):(0,a.kq)("",!0),"new"==e.type?((0,a.wg)(),(0,a.iD)("div",aa,[oa,(0,a.wy)((0,a._)("input",{"onUpdate:modelValue":t[7]||(t[7]=t=>e.email=t),class:"input",type:"text",placeholder:"email"},null,512),[[i.nr,e.email]]),la,na,ra,(0,a.wy)((0,a._)("input",{"onUpdate:modelValue":t[8]||(t[8]=t=>e.username=t),class:"input",type:"text",placeholder:"username"},null,512),[[i.nr,e.username]]),ca,da,ua,(0,a.wy)((0,a._)("input",{"onUpdate:modelValue":t[9]||(t[9]=t=>e.password=t),class:"input",type:"password",placeholder:"password"},null,512),[[i.nr,e.password]]),pa,ha,ma,(0,a.wy)((0,a._)("input",{"onUpdate:modelValue":t[10]||(t[10]=t=>e.verify_password=t),class:"input",type:"password",placeholder:"repeat password"},null,512),[[i.nr,e.verify_password]]),_a,ga,(0,a._)("div",{onClick:t[11]||(t[11]=(...t)=>e.createAccount&&e.createAccount(...t)),class:(0,o.C_)([{"is-loading":e.loading},"button"]),style:{float:"right"}},"Create Account",2)])):(0,a.kq)("",!0),va,fa])]),ba,wa])}var ka=function(e,t,s,i){var a,o=arguments.length,l=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,s):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)l=Reflect.decorate(e,t,s,i);else for(var n=e.length-1;n>=0;n--)(a=e[n])&&(l=(o<3?a(l):o>3?a(t,s,l):a(t,s))||l);return o>3&&l&&Object.defineProperty(t,s,l),l};let xa=class extends P.w3{constructor(...e){super(...e),(0,S.Z)(this,"type","login"),(0,S.Z)(this,"username",""),(0,S.Z)(this,"password",""),(0,S.Z)(this,"verify_password",""),(0,S.Z)(this,"email",""),(0,S.Z)(this,"error",""),(0,S.Z)(this,"success",""),(0,S.Z)(this,"loading",!1),(0,S.Z)(this,"api_path",vo)}tab_login(){this.clearStatusMessage(),this.type="login"}tab_create_account(){this.clearStatusMessage(),this.type="new"}clearStatusMessage(){this.error="",this.success=""}async login(){if(this.clearStatusMessage(),this.loading=!0,""==this.username||""==this.password)return this.error="username and password must have a value",void(this.loading=!1);await this.$store.dispatch("login",{username:this.username,password:this.password}),this.loading=!1,this.$store.state.user?(this.success="Successfully logged in!",setTimeout((()=>{this.$router.push("/boards")}),1e3)):this.error="failed to login"}async loginWith(e){"google"==e&&(document.location.href=vo+"/auth/google")}async createAccount(){if(this.clearStatusMessage(),this.loading=!0,""==this.username||""==this.password||""==this.email||""==this.verify_password)return this.error="Please fill in all required values.",void(this.loading=!1);if(this.password!=this.verify_password)return this.error="passwords must match",void(this.loading=!1);let e=await Jt().post("/auth/signup",{password:this.password,username:this.username,firstname:"",lastname:"",email:this.email});this.loading=!1,200==e.status?(this.success="Successfully created a new account! Please Login",setTimeout((()=>{this.type="login"}),1e3)):this.error=e.data}};xa=ka([(0,P.Ei)({components:{}})],xa);var Ca=xa;const Da=(0,O.Z)(Ca,[["render",ya],["__scopeId","data-v-f0a20a9e"]]);var Za=Da;const Sa=e=>((0,a.dD)("data-v-1393c3c5"),e=e(),(0,a.Cn)(),e),Pa={class:"section"},Ua={class:"container"},Ta=Sa((()=>(0,a._)("h1",{class:"title is-1"},"Boards",-1))),Ea={class:"columns"},Oa={class:"column"},za={class:"box"},Ma=Sa((()=>(0,a._)("div",{class:"title"},"Create your Own",-1))),ja=(0,a.Uk)("Create "),$a=Sa((()=>(0,a._)("i",{class:"ml-3 fas fa-caret-square-right"},null,-1))),Ra=[ja,$a],La={class:"column"},qa={class:"box"},Ba={class:"level mb-3"},Ha=Sa((()=>(0,a._)("div",{class:"level-left"},[(0,a._)("div",{class:"level-item"},[(0,a._)("div",{class:"title"},"Active")])],-1))),Na={class:"level-right"},Aa={class:"level-item"},Ia=Sa((()=>(0,a._)("i",{class:"fas fa-sort-alpha-down"},null,-1))),Wa=[Ia],Va=(0,a.Uk)("Views "),Fa=Sa((()=>(0,a._)("i",{class:"fas fa-sort-amount-down ml-1"},null,-1))),Ya=[Va,Fa],Ka=Sa((()=>(0,a._)("hr",null,null,-1))),Ja={class:"columns mb-0 is-mobile"},Xa={class:"column v-center-left"},Ga=["onClick"],Qa={class:"column m-0 v-center-right"},eo={class:"tag is-success is-medium mr-3"},to=["onClick"],so=Sa((()=>(0,a._)("i",{class:"fas fa-arrow-circle-right"},null,-1))),io=[so];function ao(e,t,s,l,n,r){return(0,a.wg)(),(0,a.iD)("section",Pa,[(0,a._)("div",Ua,[Ta,(0,a._)("div",Ea,[(0,a._)("div",Oa,[(0,a._)("div",za,[Ma,(0,a.wy)((0,a._)("input",{"onUpdate:modelValue":t[0]||(t[0]=t=>e.board_input=t),class:"input",type:"text",placeholder:"Board Name"},null,512),[[i.nr,e.board_input]]),(0,a._)("button",{onClick:t[1]||(t[1]=t=>e.gotoBoard()),class:"button mt-3"},Ra)])]),(0,a._)("div",La,[(0,a._)("div",qa,[(0,a._)("div",Ba,[Ha,(0,a._)("div",Na,[(0,a._)("div",Aa,[(0,a._)("span",{class:(0,o.C_)("button mr-2 "+("alpha"==e.sort_type?"is-active":"")),onClick:t[2]||(t[2]=t=>e.sort("alpha"))},Wa,2),(0,a._)("span",{class:(0,o.C_)("button "+("views"==e.sort_type?"is-active":"")),onClick:t[3]||(t[3]=t=>e.sort("views"))},Ya,2)])])]),Ka,((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.active_pages,((t,s)=>((0,a.wg)(),(0,a.iD)("div",null,[(0,a._)("div",Ja,[(0,a._)("div",Xa,[(0,a._)("h1",{class:"title is-6 is-clickable m-0",onClick:s=>e.gotoBoard(t.path)},(0,o.zw)(t.path),9,Ga)]),(0,a._)("div",Qa,[(0,a._)("span",eo,(0,o.zw)(t.visits)+" views ",1),(0,a._)("span",{class:"button",onClick:s=>e.gotoBoard(t.path)},io,8,to)])])])))),256))])])])])])}var oo=function(e,t,s,i){var a,o=arguments.length,l=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,s):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)l=Reflect.decorate(e,t,s,i);else for(var n=e.length-1;n>=0;n--)(a=e[n])&&(l=(o<3?a(l):o>3?a(t,s,l):a(t,s))||l);return o>3&&l&&Object.defineProperty(t,s,l),l};let lo=class extends P.w3{constructor(...e){super(...e),(0,S.Z)(this,"all_pages",[]),(0,S.Z)(this,"active_pages",[]),(0,S.Z)(this,"board_input",""),(0,S.Z)(this,"sort_type","views")}async mounted(){let e=await Jt().get("/board/guest/boards");e.data&&(this.all_pages=e.data.all_pages,this.active_pages=e.data.active_pages),this.sort("views")}gotoBoard(e){e?ho.push("/board/"+e):this.board_input&&ho.push("/board/"+this.board_input)}sort(e){this.sort_type=e,"alpha"==e?this.active_pages.sort(((e,t)=>e.path.localeCompare(t.path))):this.active_pages.sort(((e,t)=>t.visits-e.visits))}};lo=oo([(0,P.Ei)({components:{}})],lo);var no=lo;const ro=(0,O.Z)(no,[["render",ao],["__scopeId","data-v-1393c3c5"]]);var co=ro;const uo=[{path:"/",name:"home",component:ri},{path:"/about",name:"about",component:()=>s.e(443).then(s.bind(s,4335))},{path:"/board/:page",name:"BoardView",component:Ui},{path:"/login",name:"login",component:Za},{path:"/boards",name:"boards",component:co}],po=(0,j.p7)({history:(0,j.PO)("/"),routes:uo});var ho=po,mo=s(65),_o=(0,mo.MT)({state:{user:null,stripe_api_key:"pk_live_51L1kmTKBVccfuaNcdLT88pIrsiNIcUxSDotPNZqzVSQdbHW3fXMUyVOuJTsnFHNy1LvnBAvVThTZF8wXgW9dYGSN00N8E84Kmy",pageScroll:!0},getters:{},mutations:{set_user(e,t){e.user=t},set_page(e,t){e.page=t},set_post(e,t){e.page&&(e.page.posts[t.slot]=t.post)},set_isPageScroll(e,t){e.pageScroll=t.scroll}},actions:{async getUser({dispatch:e,commit:t}){let s=await Jt().get("/auth/user");return 200==s.status&&t("set_user",s.data),s.status},async login({dispatch:e,commit:t},{username:s,password:i}){let a=await Jt().post("/auth/local",{username:s,password:i});return 200==a.status&&t("set_user",a.data),a.status},async logout({dispatch:e,commit:t}){let s=await Jt().post("/auth/logout");return t("set_user",null),s.status},async getPage({dispatch:e,commit:t},{pagePath:s}){let i=await Jt().get(`/board/guest/${s}`);return t("set_page",i.data),i.status},async updatePost({dispatch:e,commit:t},{post:s,mediaUrl:i}){let a=await fetch(i).then((e=>e.blob())),o=[...new Uint8Array(await a.arrayBuffer())],l=ks()(o),n=await Jt().post(`/board/updatepost/${s.id}`,{post:s,mediaHash:l});if(200!=n.status)return n;let r=n.data.uploadUrl,c=n.data.fields;if(r&&c){let e=new FormData;for(let s in c)e.append(s,c[s]);e.append("Content-Type",a.type),e.append("file",a);try{let t=await fetch(r,{method:"POST",body:e});console.log(await t.text())}catch(d){console.log(d)}let t=await Jt().put("/board/uploaded/"+n.data.user_post.id);n.data.user_post.media=t.data.media,console.log(t.media)}return t("set_post",{slot:s.slot,post:n.data.user_post}),n}},modules:{}}),go=s(7946);ve.Z.addDefaultLocale(go);let vo="https://api.boredofthings.com";Jt().interceptors.request.use((e=>(e.url=vo+e.url,e.withCredentials=!0,e.validateStatus=()=>!0,e))),Jt().interceptors.response.use((e=>(401==e.status&&(console.log("access denied"),console.log(e.config),e.config.url?.endsWith("/auth/user")||ho.push("/login")),e)),(e=>e.response)),(0,i.ri)(M).use(_o).use(ho).mount("#app")}},t={};function s(i){var a=t[i];if(void 0!==a)return a.exports;var o=t[i]={exports:{}};return e[i].call(o.exports,o,o.exports,s),o.exports}s.m=e,function(){var e=[];s.O=function(t,i,a,o){if(!i){var l=1/0;for(d=0;d<e.length;d++){i=e[d][0],a=e[d][1],o=e[d][2];for(var n=!0,r=0;r<i.length;r++)(!1&o||l>=o)&&Object.keys(s.O).every((function(e){return s.O[e](i[r])}))?i.splice(r--,1):(n=!1,o<l&&(l=o));if(n){e.splice(d--,1);var c=a();void 0!==c&&(t=c)}}return t}o=o||0;for(var d=e.length;d>0&&e[d-1][2]>o;d--)e[d]=e[d-1];e[d]=[i,a,o]}}(),function(){s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,{a:t}),t}}(),function(){s.d=function(e,t){for(var i in t)s.o(t,i)&&!s.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})}}(),function(){s.f={},s.e=function(e){return Promise.all(Object.keys(s.f).reduce((function(t,i){return s.f[i](e,t),t}),[]))}}(),function(){s.u=function(e){return"js/about.b3ceb3e5.js"}}(),function(){s.miniCssF=function(e){}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={},t="board:";s.l=function(i,a,o,l){if(e[i])e[i].push(a);else{var n,r;if(void 0!==o)for(var c=document.getElementsByTagName("script"),d=0;d<c.length;d++){var u=c[d];if(u.getAttribute("src")==i||u.getAttribute("data-webpack")==t+o){n=u;break}}n||(r=!0,n=document.createElement("script"),n.charset="utf-8",n.timeout=120,s.nc&&n.setAttribute("nonce",s.nc),n.setAttribute("data-webpack",t+o),n.src=i),e[i]=[a];var p=function(t,s){n.onerror=n.onload=null,clearTimeout(h);var a=e[i];if(delete e[i],n.parentNode&&n.parentNode.removeChild(n),a&&a.forEach((function(e){return e(s)})),t)return t(s)},h=setTimeout(p.bind(null,void 0,{type:"timeout",target:n}),12e4);n.onerror=p.bind(null,n.onerror),n.onload=p.bind(null,n.onload),r&&document.head.appendChild(n)}}}(),function(){s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){s.p="/"}(),function(){var e={143:0};s.f.j=function(t,i){var a=s.o(e,t)?e[t]:void 0;if(0!==a)if(a)i.push(a[2]);else{var o=new Promise((function(s,i){a=e[t]=[s,i]}));i.push(a[2]=o);var l=s.p+s.u(t),n=new Error,r=function(i){if(s.o(e,t)&&(a=e[t],0!==a&&(e[t]=void 0),a)){var o=i&&("load"===i.type?"missing":i.type),l=i&&i.target&&i.target.src;n.message="Loading chunk "+t+" failed.\n("+o+": "+l+")",n.name="ChunkLoadError",n.type=o,n.request=l,a[1](n)}};s.l(l,r,"chunk-"+t,t)}},s.O.j=function(t){return 0===e[t]};var t=function(t,i){var a,o,l=i[0],n=i[1],r=i[2],c=0;if(l.some((function(t){return 0!==e[t]}))){for(a in n)s.o(n,a)&&(s.m[a]=n[a]);if(r)var d=r(s)}for(t&&t(i);c<l.length;c++)o=l[c],s.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return s.O(d)},i=self["webpackChunkboard"]=self["webpackChunkboard"]||[];i.forEach(t.bind(null,0)),i.push=t.bind(null,i.push.bind(i))}();var i=s.O(void 0,[998],(function(){return s(9209)}));i=s.O(i)})();
//# sourceMappingURL=app.9157f29a.js.map